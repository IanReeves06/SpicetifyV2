!function(){var e,t={8312:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{ENTER_LOGIN_MODE:function(){return M},ENTER_SETTINGS_MODE:function(){return R},ENTER_SIGNUP_MODE:function(){return F},ENTER_SIGNUP_MODE_STEP_0:function(){return D},ENTER_SIGNUP_MODE_STEP_1:function(){return L},ENTER_WELCOME_MODE:function(){return B},FEATURE_FLAGS_ERROR:function(){return G},FEATURE_FLAGS_SUCCESS:function(){return x},INTERACTION:function(){return j},REMOTE_CONFIG_PROPS:function(){return H},START_APP:function(){return A},enterLoginMode:function(){return q},enterSettingsMode:function(){return K},enterSignupMode:function(){return $},enterSignupModeStep0:function(){return V},enterSignupModeStep1:function(){return Y},enterWelcomeMode:function(){return z},featureFlagsError:function(){return Q},featureFlagsSuccess:function(){return X},getFeatureFlags:function(){return Z},interaction:function(){return te},openSignupPage:function(){return ee},remoteConfigProps:function(){return J},startApp:function(){return W}});var o={};n.r(o),n.d(o,{ABORT_LOGIN_TYPE_ACCOUNTS:function(){return Ne},ACCOUNTS_METHODS:function(){return Ae},LOADING:function(){return Ce},LOGIN_BEFORE:function(){return Se},LOGIN_CLEAR_ERRORS:function(){return Ee},LOGIN_FAIL:function(){return ve},LOGIN_SUCCESS:function(){return we},LOGIN_TYPE_ACCOUNTS:function(){return Ue},LOGIN_TYPE_AUTOLOGIN:function(){return Te},LOGIN_TYPE_EMAIL:function(){return Oe},LOGIN_TYPE_FACEBOOK:function(){return Ie},LOGIN_TYPE_FACEBOOK_POPUP:function(){return Pe},UTM_PARAMETERS:function(){return ke},abortLoginWithAccounts:function(){return xe},fetchUTMParameters:function(){return He},loading:function(){return Me},login:function(){return Re},loginClearErrors:function(){return $e},loginFailed:function(){return Le},loginSuccess:function(){return De},loginWithAccounts:function(){return je},loginWithFacebookPopup:function(){return Ge},receivedUTMParameters:function(){return We}});var s={};n.r(s),n.d(s,{CLEAR_ALL_ERRORS:function(){return bt},COUNTRY_NOT_LAUNCHED:function(){return ht},FACEBOOK_SIGNUP_ATTEMPT:function(){return ct},FACEBOOK_SIGNUP_FAILURE:function(){return ut},FACEBOOK_SIGNUP_SUCCESS:function(){return pt},SIGNUP_ATTEMPT:function(){return it},SIGNUP_FAILURE:function(){return at},SIGNUP_RESTRICTIONS_FAILURE:function(){return st},SIGNUP_RESTRICTIONS_SUCCESS:function(){return ot},SIGNUP_SUCCESS:function(){return lt},UPDATE_SIGNUP_DATA:function(){return mt},VALIDATE_FIELD_ATTEMPT:function(){return gt},VALIDATE_FIELD_FAILURE:function(){return dt},VALIDATE_FIELD_SUCCESS:function(){return ft},clearAllErrors:function(){return Lt},countryNotLaunched:function(){return Dt},facebookSignup:function(){return It},facebookSignupFailure:function(){return Tt},facebookSignupSuccess:function(){return Pt},getSignupRestrictions:function(){return yt},signup:function(){return wt},signupAttempt:function(){return vt},signupFailure:function(){return kt},signupRestrictionsFailure:function(){return St},signupRestrictionsSuccess:function(){return _t},signupSuccess:function(){return Ct},signupWithAccounts:function(){return Ot},updateSignupData:function(){return Ft},validateField:function(){return Et},validateFieldAttempt:function(){return Ut},validateFieldFailure:function(){return Nt},validateFieldSuccess:function(){return At}});var i={};n.r(i),n.d(i,{SETTINGS_FETCH_PROXY_SETTINGS_FAILURE:function(){return Wt},SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS:function(){return Ht},SETTINGS_RESTART_CLIENT_FAILURE:function(){return qt},SETTINGS_RESTART_CLIENT_SUCCESS:function(){return Yt},SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE:function(){return Vt},SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS:function(){return $t},fetchProxySettings:function(){return zt},restartClient:function(){return Jt},updateProxySettings:function(){return Kt}});var a=n(7378),l=n.n(a),c=n(1542),p=n.n(c),u=n(6602),g=n(9308),d=n(1988),f=n(5023),m=n(5526),h=n.n(m),b=n(5170),y=n.n(b),_=window.localStorage;const S="desktop_signup_spotify_id";var w=n(1315);let E,v,C;!function(e){e.af="af",e.am="am",e.ar="ar",e.az="az",e.bg="bz",e.bn="bn",e.bho="bho",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es419="es-419",e.es="es",e.et="et",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="bn",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pa-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhTW="zh-TW",e.zu="zu"}(E||(E={})),function(e){e.AR="، ",e.FA="، ",e.EN=", "}(v||(v={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(C||(C={}));let k={};const O=e=>{switch(e){case"ar":return"ar-u-nu-latn";default:return e}};const I=new class{constructor(){h()(this,"_locale",void 0),h()(this,"_dictionary",void 0),h()(this,"_isPseudoLocalizationOn",void 0),this._dictionary={},this._locale=E.en,this._isPseudoLocalizationOn=!1}setDictionary(e){this._dictionary=e}setLocale(e){this._locale=e}getLocale(){return this._locale}enablePseudoLocalization(){this._isPseudoLocalizationOn=!0}disablePseudoLocalization(){this._isPseudoLocalizationOn=!1}toLocaleLowerCase(e){return null==e?void 0:e.toLocaleLowerCase(this._locale)}toLocaleUpperCase(e){return null==e?void 0:e.toLocaleUpperCase(this._locale)}get(e,...t){const n=e in this._dictionary?this._dictionary[e]:e;let r="";if("string"!=typeof n){const e=t[0],o=((e,t)=>{try{return(k[e]||(k[e]=new Intl.PluralRules(e))).select(t)}catch{return C.OTHER}})(this._locale,parseInt(e,10));n[o]?r=n[o]:n.other&&(r=n.other)}else r=n;if(/%\d%/.test(r)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop.login.errorCode","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}if((null==t?void 0:t.length)>0)for(let e=0;e<t.length;e++){const n=t[e];if(null!=n)if("string"==typeof n)r=r.replace(`{${e}}`,n).replace(`%${e}%`,n);else if("number"==typeof n){const t=this.formatNumber(n);r=r.replace(`{${e}}`,t).replace(`%${e}%`,t)}else if("object"==typeof n)for(const e of Object.keys(n)){const t=n[e];r=r.replace(`%${e}%`,t)}}return this._isPseudoLocalizationOn&&(r=w.ZP.localize(r)),r}getSeparator(){switch(this._locale){case E.ar:return v.AR;case E.fa:return v.FA;default:return v.EN}}formatNumber(e){return e.toLocaleString(O(this._locale))}formatDate(e,t=null){const n=t||{year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat(O(this._locale),n).format(e)}formatRelativeDate(e,t=null){var n;const r=new Date(Date.now()),o=(e=new Date(e)).getTime()-r.getTime();if(Math.abs(o)<2592e6&&null!==(n=Intl)&&void 0!==n&&n.RelativeTimeFormat){const{days:e,hours:t,minutes:n,seconds:r}=(s=o,{seconds:Math.round(s/1e3),minutes:Math.round(s/1e3/60),hours:Math.round(s/1e3/60/60),days:Math.round(s/1e3/60/60/24)}),i=new Intl.RelativeTimeFormat;return e||t||n?e||t?e?i.format(e,"days"):i.format(t,"hours"):i.format(n,"minutes"):i.format(r,"seconds")}var s;return this.formatDate(e,t)}__resetForTests(){this._dictionary={},this._locale=E.en,k={}}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let U=null;async function N(){if(U)return U;const e=window.__spotify.client_version,t=`https://spclient.wg.spotify.com${`/v1/pses/featureflags/${function(){const e=_.getItem(S)||y().create().toString();return _.setItem(S,e),e}()}/desktop/${e}/${I.getLocale()}`}`,n=window.__spotify.pses_overrides||{};Object.keys(n).forEach((e=>{n[e]=JSON.parse(n[e])}));let r=!1;return new Promise((e=>{const o=window.setTimeout((()=>{r||(r=!0,U=n,e(U))}),5e3);fetch(t).then((e=>e.json())).then((t=>{U=T(T({},t),n),r||(r=!0,e(U)),window.clearTimeout(o)})).catch((()=>{r||(r=!0,U=n,e(U)),window.clearTimeout(o)}))}))}const A="START_APP",F="ENTER_SIGNUP_MODE",D="ENTER_SIGNUP_MODE_STEP_0",L="ENTER_SIGNUP_MODE_STEP_1",M="ENTER_LOGIN_MODE",B="ENTER_WELCOME_MODE",R="ENTER_SETTINGS_MODE",j="INTERACTION",x="FEATURE_FLAGS_SUCCESS",G="FEATURE_FLAGS_ERROR",H="REMOTE_CONFIG_PROPS";function W(){return{type:A}}function $(e=null){return{type:F,actionHash:e}}function V(){return{type:D}}function Y(){return{type:L}}function q(e=null){return{type:M,actionHash:e}}function z(e=null){return{type:B,errorMessage:e}}function K(){return{type:R}}function J(e){return{type:H,props:e}}function Z(){return async e=>{try{e(X(await N()))}catch(t){e(Q(t))}}}function X(e){return{type:x,featureFlags:e}}function Q(e){return{type:G,error:e}}function ee(e=!1){return(t,n)=>{const r=n();let o,s={};switch(e?"website":"desktop-app"){case"desktop-app":t($());break;case"website":{s=r.login.utmParameters||{utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""};const e=Object.keys(s).reduce(((e,t)=>(e[t]=encodeURIComponent(s[t]),e)),{});o=`https://www.spotify.com/signup?utm_source=${e.utm_source}&utm_medium=${e.utm_medium}&utm_campaign=${e.utm_campaign}`,e.referral&&(o+=`&referral=${e.referral}&referrer=${e.referral}`),window.open(o);break}}}}function te(e,t,n,r,o){return{type:j,page:e,interactionType:t,intent:n,itemId:r,actionHash:o}}var ne=e=>n.g&&"function"==typeof n.g._getSpotifyModule?new Promise(((t,r)=>{n.g._getSpotifyModule("bridge").executeRequest(JSON.stringify(e),{onSuccess:t,onFailure:r})})):null;const re="https://www.spotify.com/redirect/account-page/",oe="showSettings",se={id:"UnknownLoginErrorMessage"},ie={id:"DefaultErrorMessage",replace:[oe]},ae={id:"FbFailureOpenPopup",silent:!0},le={127:{id:"SessionTerminatedMessage"},3:{id:"BadCredentialsMessage"},4:{id:"ErrorResolvingDNS"},53:{id:"ErrorProxyUnauthorized"},54:{id:"ErrorProxyForbidden"},55:{id:"ErrorProxyAuthRequired",replace:[oe]},400:se,401:se,402:{id:"CriticalUpdate"},403:{id:"UserBannedMessage"},404:se,405:se,406:{id:"UserNotAllowedOnPlatformMessage"},407:{id:"MissingUserInfoMessage",replace:[re]},408:{id:"RegionMismatchMessage",replace:[re,"https://www.spotify.com/redirect/upgrade-product/"]},409:{id:"PremiumUsersOnlyMessage"},410:{id:"BadCredentialsMessage"},411:se,412:{id:"BadCredentialsMessage"},413:{id:"CreateUserDeniedMessage"},414:se,415:se,416:se,417:{id:"FacebookCredentialsMisusedMessage"},418:se,"critical-update-error":{id:"ClientUpdateFail",replace:["https://www.spotify.com/redirect/download/"]},1001:{silent:!0},1002:ae,1003:{id:"FbUserNotFoundSignUp",replace:["showSignup"]},1004:ae,1005:ae,1006:ae},ce={1:se,2:se,3:{id:"BadCredentialsMessage"},4:se,5:se,6:se,7:se,8:se,9:se},pe={1:{silent:!0},2:se,3:se,4:{id:"SessionExpiredMessage"},5:ie};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const de="lastUsername",fe="THIS_USER_DOES_NOT_EXIST_AND_IS_A_PLACEHOLDER",me="utmParameters",he=_.getItem(me),be=_.getItem(de),ye={errorData:null,loginInProgress:!1,redirectTo:null,username:be!==fe?be:"",utmParameters:he?JSON.parse(he):null};var _e=function(e=ye,t){switch(t.type){case Qt.LOADING:return ge(ge({},e),{},{loading:!0,throbberDelay:t.throbberDelay});case Qt.LOGIN_FAIL:return ge(ge({},e),{},{loading:!1,errorData:t.errorData,loggedIn:!1,loginInProgress:!1});case Qt.LOGIN_BEFORE:return ge(ge({},e),{},{errorData:t.errorData,loggedIn:!1,loginInProgress:t.loginInProgress,username:t.username});case Qt.LOGIN_SUCCESS:return ge(ge({},e),{},{loading:!1,loggedIn:!0,redirectDelay:t.redirectDelay||0,redirectTo:t.redirectTo,username:t.username});case Qt.UTM_PARAMETERS:return ge(ge({},e),{},{utmParameters:t.utmParameters});case Qt.LOGIN_CLEAR_ERRORS:return ge(ge({},e),{},{errorData:null});default:return e}};const Se="LOGIN_BEFORE",we="LOGIN_SUCCESS",Ee="LOGIN_CLEAR_ERRORS",ve="LOGIN_FAIL",Ce="LOADING",ke="UTM_PARAMETERS",Oe="login",Ie="login-facebook",Pe="login-facebook-popup",Te="autologin",Ue="login-accounts",Ne="abort-login-accounts",Ae={facebook:"facebook",apple:"apple",google:"google"};function Fe(e,t=Oe){return{type:Se,errorData:null,username:e||"",loginInProgress:t===Oe,loginType:t}}function De(e,t,n=Oe,r=!1,o){return{type:we,errorData:null,redirectTo:o,redirectDelay:t||0,username:e,loginType:n,afterSignup:r}}function Le(e,t=Oe){return{type:ve,errorData:e,loginType:t}}function Me(e){return{type:Ce,throbberDelay:e&&e.throbberDelay?e.throbberDelay:0}}const Be=async(e,t,{defaultErrorCode:n,redirectDelay:r=0}={},o=Oe,s=!1,i=null,a=!0)=>{i&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=i);try{const n=JSON.parse(await ne(t)).redirectTo||"xpui";let i=null;t&&t.args&&t.args[0]&&(i=t.args[0].username),e(De(a?i:fe,r,o,s,n))}catch(t){let r=t;n?r={errorCode:n}:"string"==typeof t&&(r=JSON.parse(t)),r.errorCode&&le[r.errorCode]&&"FbFailureOpenPopup"===le[r.errorCode].id?e(Ge(i)):e(Le(r,o))}};function Re({username:e,password:t,rememberMe:n},r=!1,o=null){return s=>{const i=r?Te:Oe;s(Fe(n?e:fe,i));Be(s,{name:Oe,args:[{username:e,password:t,rememberMe:n}]},{redirectDelay:200},i,r,o,n)}}function je(e,t){return n=>{n(Fe(null,Ue));Be(n,{name:Ue,args:[{method:e,enableSignup:!1}]},{redirectDelay:200},Ue,!1,t)}}function xe(){return async()=>{await ne({name:Ne,args:[]})}}function Ge(e=null){return t=>{t(Fe(null,Ie));Be(t,{name:Pe,args:[]},{redirectDelay:200},Ie,!1,e)}}function He(){return async e=>{e(We(JSON.parse(await ne({name:"get-signup-utm-parameters",args:[]}))))}}function We(e){return{type:ke,utmParameters:e}}function $e(){return{type:Ee}}var Ve=n(2666),Ye=n.n(Ve),qe=n(9245),ze=n.n(qe);const Ke=["errors"];function Je(){const e="undefined"!=typeof window&&window.__spotify&&window.__spotify.client_version||"";if(!e)throw new Error("Missing Spotify App Version! Something is wrong: talk to #desktop-squad.");return["Spotify-App-Version",e]}function Ze(){const e="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let t="";if(-1!==e.indexOf("Mac")?t="OSX":-1!==e.indexOf("Win")?t="Win32":-1!==e.indexOf("Linux")&&(t="Linux"),!t)throw new Error("Missing App Platform! Something is wrong: talk to #desktop-squad.");return["App-Platform",t]}function Xe(e){const t=new Map(Object.entries(e).sort()),n=function(e){const t=ze().create();return e.forEach((e=>{void 0!==e&&t.update(e.toString())})),t.hex()}(t);if(t.size>n.length)return t;const r=[...t],o=[...Array(t.size).keys()].sort((function(e,t){const o=n.charAt(e).localeCompare(n.charAt(t));return 0!==o?o:r[e][0].localeCompare(r[t][0])})),s=new Map;return o.forEach((function(e){s.set(r[e][0],r[e][1])})),s}const Qe=e=>async(t,n,r)=>{const o=function({name:e,email:t,password:n,gender:r,birthDate:o={},sendEmail:s,shareData:i,agreeEula:a}={},l={utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""},c=!1){const p=Object.keys(l).reduce(((e,t)=>(e[t]=encodeURIComponent(l[t]),e)),{});let u=`https://login.app.spotify.com?utm_source=${p.utm_source}&utm_medium=${p.utm_medium}&utm_campaign=${p.utm_campaign}`;p.referral&&(u+=`&referral=${p.referral}&referrer=${p.referral}`);const g={key:"4c7a36d5260abca4af282779720cf631",displayname:e,email:t,password:n,password_repeat:n,gender:r,birth_year:o.year,birth_month:o.month,birth_day:o.day,iagree:a?1:0,creation_point:u,creation_flow:"desktop",platform:"desktop",referrer:p.referral};return"boolean"==typeof s&&(g["send-email"]=s),"boolean"==typeof i&&(g.thirdpartyemail=i),c&&Object.keys(g).forEach((e=>{void 0===g[e]&&delete g[e]})),Xe(g)}(t,n,r),s=new FormData;o.forEach(((e,t)=>{s.append(t,e)}));const i=[Je(),Ze()].reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),a={method:"POST",body:s,headers:{"App-Platform":i["App-Platform"],"Spotify-App-Version":i["Spotify-App-Version"],"X-Client-Id":{DEBUG:"true",ENV:"local",NODE_ENV:"production",ORIGIN:"https://open.spotify.com",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0,CDN_FILE_URLS:'{"fonts/CircularSpUIAraOnly-Black.otf":"/fonts/CircularSpUIAraOnly-Black.otf","fonts/CircularSpUIAraOnly-Black.woff":"/fonts/CircularSpUIAraOnly-Black.woff","fonts/CircularSpUIAraOnly-Black.woff2":"/fonts/CircularSpUIAraOnly-Black.woff2","fonts/CircularSpUIAraOnly-Bold.otf":"/fonts/CircularSpUIAraOnly-Bold.otf","fonts/CircularSpUIAraOnly-Bold.woff":"/fonts/CircularSpUIAraOnly-Bold.woff","fonts/CircularSpUIAraOnly-Bold.woff2":"/fonts/CircularSpUIAraOnly-Bold.woff2","fonts/CircularSpUIAraOnly-Book.otf":"/fonts/CircularSpUIAraOnly-Book.otf","fonts/CircularSpUIAraOnly-Book.woff":"/fonts/CircularSpUIAraOnly-Book.woff","fonts/CircularSpUIAraOnly-Book.woff2":"/fonts/CircularSpUIAraOnly-Book.woff2","fonts/CircularSpUIAraOnly-Light.otf":"/fonts/CircularSpUIAraOnly-Light.otf","fonts/CircularSpUIAraOnly-Light.woff":"/fonts/CircularSpUIAraOnly-Light.woff","fonts/CircularSpUIAraOnly-Light.woff2":"/fonts/CircularSpUIAraOnly-Light.woff2","fonts/CircularSpUICyrOnly-Black.otf":"/fonts/CircularSpUICyrOnly-Black.otf","fonts/CircularSpUICyrOnly-Black.woff":"/fonts/CircularSpUICyrOnly-Black.woff","fonts/CircularSpUICyrOnly-Black.woff2":"/fonts/CircularSpUICyrOnly-Black.woff2","fonts/CircularSpUICyrOnly-Bold.otf":"/fonts/CircularSpUICyrOnly-Bold.otf","fonts/CircularSpUICyrOnly-Bold.woff":"/fonts/CircularSpUICyrOnly-Bold.woff","fonts/CircularSpUICyrOnly-Bold.woff2":"/fonts/CircularSpUICyrOnly-Bold.woff2","fonts/CircularSpUICyrOnly-Book.otf":"/fonts/CircularSpUICyrOnly-Book.otf","fonts/CircularSpUICyrOnly-Book.woff":"/fonts/CircularSpUICyrOnly-Book.woff","fonts/CircularSpUICyrOnly-Book.woff2":"/fonts/CircularSpUICyrOnly-Book.woff2","fonts/CircularSpUICyrOnly-Light.otf":"/fonts/CircularSpUICyrOnly-Light.otf","fonts/CircularSpUICyrOnly-Light.woff":"/fonts/CircularSpUICyrOnly-Light.woff","fonts/CircularSpUICyrOnly-Light.woff2":"/fonts/CircularSpUICyrOnly-Light.woff2","fonts/CircularSpUIHbrOnly-Black.otf":"/fonts/CircularSpUIHbrOnly-Black.otf","fonts/CircularSpUIHbrOnly-Black.woff":"/fonts/CircularSpUIHbrOnly-Black.woff","fonts/CircularSpUIHbrOnly-Black.woff2":"/fonts/CircularSpUIHbrOnly-Black.woff2","fonts/CircularSpUIHbrOnly-Bold.otf":"/fonts/CircularSpUIHbrOnly-Bold.otf","fonts/CircularSpUIHbrOnly-Bold.woff":"/fonts/CircularSpUIHbrOnly-Bold.woff","fonts/CircularSpUIHbrOnly-Bold.woff2":"/fonts/CircularSpUIHbrOnly-Bold.woff2","fonts/CircularSpUIHbrOnly-Book.otf":"/fonts/CircularSpUIHbrOnly-Book.otf","fonts/CircularSpUIHbrOnly-Book.woff":"/fonts/CircularSpUIHbrOnly-Book.woff","fonts/CircularSpUIHbrOnly-Book.woff2":"/fonts/CircularSpUIHbrOnly-Book.woff2","fonts/CircularSpUIHbrOnly-Light.otf":"/fonts/CircularSpUIHbrOnly-Light.otf","fonts/CircularSpUIHbrOnly-Light.woff":"/fonts/CircularSpUIHbrOnly-Light.woff","fonts/CircularSpUIHbrOnly-Light.woff2":"/fonts/CircularSpUIHbrOnly-Light.woff2","fonts/CircularSpUIv3T-Black.ttf":"/fonts/CircularSpUIv3T-Black.ttf","fonts/CircularSpUIv3T-Black.woff":"/fonts/CircularSpUIv3T-Black.woff","fonts/CircularSpUIv3T-Black.woff2":"/fonts/CircularSpUIv3T-Black.woff2","fonts/CircularSpUIv3T-Bold.ttf":"/fonts/CircularSpUIv3T-Bold.ttf","fonts/CircularSpUIv3T-Bold.woff":"/fonts/CircularSpUIv3T-Bold.woff","fonts/CircularSpUIv3T-Bold.woff2":"/fonts/CircularSpUIv3T-Bold.woff2","fonts/CircularSpUIv3T-Book.ttf":"/fonts/CircularSpUIv3T-Book.ttf","fonts/CircularSpUIv3T-Book.woff":"/fonts/CircularSpUIv3T-Book.woff","fonts/CircularSpUIv3T-Book.woff2":"/fonts/CircularSpUIv3T-Book.woff2","fonts/CircularSpUIv3T-Light.ttf":"/fonts/CircularSpUIv3T-Light.ttf","fonts/CircularSpUIv3T-Light.woff":"/fonts/CircularSpUIv3T-Light.woff","fonts/CircularSpUIv3T-Light.woff2":"/fonts/CircularSpUIv3T-Light.woff2","fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/devices/android.png":"/images/devices/android.png","images/devices/ios.png":"/images/devices/ios.png","images/devices/mac-web.png":"/images/devices/mac-web.png","images/devices/mac.png":"/images/devices/mac.png","images/devices/windowsphone.png":"/images/devices/windowsphone.png","images/embed-podcast/upsell-background.png":"/images/embed-podcast/upsell-background.png","images/embed/copy-32_circle_grey_outline_bg.svg":"/images/embed/copy-32_circle_grey_outline_bg.svg","images/embed/embed-code-32_circle_grey_outline_bg.svg":"/images/embed/embed-code-32_circle_grey_outline_bg.svg","images/embed/fb_colour.svg":"/images/embed/fb_colour.svg","images/embed/messenger_colour.svg":"/images/embed/messenger_colour.svg","images/embed/twitter_colour.svg":"/images/embed/twitter_colour.svg","images/embed/whatsapp.svg":"/images/embed/whatsapp.svg","images/emi.png":"/images/emi.png","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/follow/avatar-placeholder.png":"/images/follow/avatar-placeholder.png","images/follow/sprite.gif":"/images/follow/sprite.gif","images/follow/sprite@1.png":"/images/follow/sprite@1.png","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_64.png":"/images/icons/Spotify_64.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/merlin.png":"/images/merlin.png","images/mid-year.png":"/images/mid-year.png","images/moviebuff.png":"/images/moviebuff.png","images/og-image.png":"/images/og-image.png","images/orchard.png":"/images/orchard.png","images/rovi.png":"/images/rovi.png","images/sony.png":"/images/sony.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/tracklist-row-episode-fallback.svg":"/images/tracklist-row-episode-fallback.svg","images/tracklist-row-song-fallback.svg":"/images/tracklist-row-song-fallback.svg","images/tracklist-row-video-fallback.svg":"/images/tracklist-row-video-fallback.svg","images/universal.png":"/images/universal.png","images/vinyl-bottom-layer.svg":"/images/vinyl-bottom-layer.svg","images/vinyl-top-layer.svg":"/images/vinyl-top-layer.svg","images/warner.png":"/images/warner.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtag.js":"/js/gtag.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js"}'}.SPOTIFY_CLIENT_ID}},l=new Request(e,a);((e,t)=>{const n=e.headers.get("content-type");e.headers.set("content-type",((e,t)=>[...e.split(";"),t].join(";"))(n,t))})(l,"charset=utf-8");const c=await fetch(l),p=await c.json()||{},{errors:u}=p,g=Ye()(p,Ke);if(u)throw u;return g},et=Qe("https://spclient.wg.spotify.com/signup/public/v1/account/"),tt=Qe("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=true");function nt(){return window.__spotify&&!0===window.__spotify.is_running_on_teamcity}function rt(e){const t=[],n=e&&e.app&&e.app.remoteConfigProps||{};return t.reduce(((e,t)=>(e.push([t,"=",String(n[t])].join("")),e)),[]).join("&")}const ot="SIGNUP_RESTRICTIONS_SUCCESS",st="SIGNUP_RESTRICTIONS_FAILURE",it="SIGNUP_ATTEMPT",at="SIGNUP_FAILURE",lt="SIGNUP_SUCCESS",ct="FACEBOOK_SIGNUP_ATTEMPT",pt="FACEBOOK_SIGNUP_SUCCESS",ut="FACEBOOK_SIGNUP_FAILURE",gt="VALIDATE_FIELD_ATTEMPT",dt="VALIDATE_FIELD_FAILURE",ft="VALIDATE_FIELD_SUCCESS",mt="UPDATE_SIGNUP_DATA",ht="COUNTRY_NOT_LAUNCHED",bt="CLEAR_ALL_ERRORS";function yt(){return async(e,t)=>{const n=t();try{e(_t(nt()?{}:await(async()=>{const e=await fetch("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=1"),t=await e.json()||{};if(t.errors&&t.errors.length>0)throw t.errors;return t})()))}catch(t){e(St(t)),n.app&&n.app.mode&&"welcome"!==n.app.mode&&(e(q()),e(ee(!0)))}}}function _t(e){return{type:ot,restrictions:e}}function St(e){return{type:st,error:e}}function wt(e=null){return async(t,n)=>{t(vt());const r=n().signup.formData,o=n().login.utmParameters;try{await et(r,o),t(Ct());const{email:n,password:s}=r;t(Re({username:n,password:s,rememberMe:!0},!0,e))}catch(e){const n={};Object.keys(e).forEach((t=>{n["birthdate"===t?"birthDate":t]={message:e[t]}})),t(kt(n))}}}function Et(e){return async(t,n)=>{const r=n().signup.formData[e],o=n().login.utmParameters;t(Ut(e,r));try{await tt({[e]:r},o,!0)}catch(n){n[e]&&t(Nt(e,{message:n[e]}))}}}function vt(){return{type:it}}function Ct(){return{type:lt}}function kt(e){return{type:at,errors:e}}function Ot(e,t=null){return n=>{const r={name:Ue,args:[{method:e,enableSignup:!0}]};n(It()),(async(e,t,n=null)=>{n&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=n);try{const n=JSON.parse(await ne(t)).redirectTo||"xpui";e(Pt()),e(De(null,0,Te,!0,n))}catch(t){let n=t;"string"==typeof t&&(n=JSON.parse(t)),e(Tt(n))}})(n,r,t)}}function It(){return{type:ct}}function Pt(){return{type:pt}}function Tt(e){return{type:ut,errorData:e}}function Ut(e,t){return{type:gt,field:e,value:t}}function Nt(e,t){return{type:dt,field:e,error:t}}function At(e){return{type:ft,field:e}}function Ft(e){return{type:mt,data:e}}function Dt(){return{type:ht}}function Lt(){return{type:bt}}const Mt=2,Bt=3,Rt=4,jt={"auto-detect":{label:()=>I.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>I.get("desktop.settings.proxy.noproxy")},http:{label:()=>I.get("desktop.settings.proxy.http")},socks4:{label:()=>I.get("desktop.settings.proxy.socks4")},socks5:{label:()=>I.get("desktop.settings.proxy.socks5")}},xt=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Gt="sp://proxy/v1/";const Ht="SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS",Wt="SETTINGS_FETCH_PROXY_SETTINGS_FAILURE",$t="SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS",Vt="SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE",Yt="SETTINGS_RESTART_CLIENT_SUCCESS",qt="SETTINGS_RESTART_CLIENT_FAILURE";function zt(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"GET",uri:Gt}),persistent:!1,onSuccess:n=>{const r=JSON.parse(n);200!==r.status&&t(new Error(`Failed to fetch proxy settings (status code: ${r.status})`));const o=JSON.parse(r.body);e({mode:o["network.proxy.mode"],address:o["network.proxy.addr"],username:o["network.proxy.user"],password:o["network.proxy.pass"]})},onFailure:(e,n)=>{t(e)}})}))})().then((t=>{e(function(e){return{type:Ht,data:e}}(t))}),(t=>{e(function(e){return{type:Wt,error:e}}(t))}))}}function Kt(e){return t=>{(async function(e){return new Promise(((t,n)=>{const r={"network.proxy.mode":e.mode};[Mt,Bt,Rt].includes(e.mode)&&(r["network.proxy.addr"]=e.address,r["network.proxy.user"]=e.username),[Mt,Rt].includes(e.mode)&&(r["network.proxy.pass"]=e.password),window.sendCosmosRequest({request:JSON.stringify({method:"PUT",uri:Gt,body:JSON.stringify(r)}),persistent:!1,onSuccess:()=>{t()},onFailure:(e,t)=>{n(e)}})}))})(e).then((()=>{t({type:$t}),t(zt())}),(e=>{t(function(e){return{type:Vt,error:e}}(e))}))}}function Jt(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://desktop/v1/restart"}),persistent:!1,onSuccess:()=>{e()},onFailure:(e,n)=>{t(e)}})}))})().then((()=>{e({type:Yt})}),(t=>{e(function(e){return{type:qt,error:e}}(t))}))}}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=Xt(Xt(Xt(Xt({},r),o),s),i);n(3615);class en extends l().Component{constructor(e){super(e),this.state={hidden:this.props.delay>0}}componentDidMount(){!0===this.state.hidden&&(this.throbberTimeout=setTimeout((()=>{this.setState({hidden:!1})}),this.props.delay))}componentWillUnmount(){this.throbberTimeout&&clearTimeout(this.throbberTimeout)}render(){return this.state.hidden?null:l().createElement("div",{className:"GlueThrobber "+(this.props.initial?"throbber-initial":"throbber")},l().createElement("div",null))}}en.defaultProps={delay:0,initial:!0};const tn="loginOnlySingleButton",nn="signupOnlySingleButton",rn="loginAndSignupSingleButton",on="none",sn={desktopWebAuthenticationMode:on},an=(e={})=>{const{desktopWebAuthenticationMode:t=on}=(null==e?void 0:e.remoteConfigProps)||sn;return t},ln=e=>[tn,rn].includes(an(e)),cn=e=>[nn,rn].includes(an(e)),pn=e=>"none"===an(e);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const dn={operationUsed:null},fn=(e=dn,t)=>t.type===Qt.ENTER_LOGIN_MODE?gn(gn({},e),{},{operationUsed:"login"}):t.type===Qt.ENTER_SIGNUP_MODE?gn(gn({},e),{},{operationUsed:"signup"}):gn({},e);function mn(){return y().create().toString()}class hn extends l().PureComponent{constructor(e){super(e),this.handleLoginClick=this.handleLoginClick.bind(this),this.handleErrorClick=this.handleErrorClick.bind(this)}handleLoginClick(){const e=this.props.isWebAuthFlowControl?"open-page-login":"login-web",t=mn();this.props.openLoginPage(t),this.props.onInteraction("login/welcome","click",e,null,t)}handleErrorClick(e){if(e.target.getAttribute("data-action")){"showSettings"===e.target.getAttribute("data-action")&&this.props.openSettingsPage()}}render(){const{errorMessage:e}=this.props;return l().createElement("main",{className:"Welcome"},l().createElement("h1",{className:"HeroText __welcome"},I.get("desktop-auth.login.millions-of-songs"),l().createElement("br",null),I.get("desktop-auth.login.free-on-spotify")),l().createElement("div",{className:"Welcome__signup-or-login"},e&&l().createElement("div",{className:"Welcome__error-message",role:"alert",onClick:this.handleErrorClick,"aria-live":"assertive"},l().createElement("span",{className:"Welcome__error-message__icon spoticon-exclamation-circle-24"}),l().createElement("span",{dangerouslySetInnerHTML:{__html:e}})),l().createElement("button",{type:"button",className:"Welcome__button button button-green button-large",id:"login-button",onClick:this.handleLoginClick,"data-ta-id":"welcome-login-button","data-testid":"login-button"},I.get("desktop.login.LoginButton"))))}}var bn=(0,g.$j)((e=>({errorMessage:e.app.errorMessage,isWebAuthFlowControl:pn(e.app)})),(e=>({openLoginPage:t=>e(Qt.enterLoginMode(t)),openSettingsPage:()=>e(Qt.enterSettingsMode()),onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s))})))(hn),yn=n(42),_n=n.n(yn);function Sn(e,t,n){if(0===t)return!1;if(!e&&!t)return!1;let r=le;switch(e){case"session":r=ce;break;case"desktop_login_accounts":r=pe}const o=r[t]||ie;if(o.silent)return!1;const s=o.replace||[];let i="";switch(o.id){case"UnknownLoginErrorMessage":i=I.get("desktop.login.UnknownLoginErrorMessage");break;case"DefaultErrorMessage":i=I.get("desktop.login.DefaultErrorMessage",s[0]);break;case"SessionTerminatedMessage":i=I.get("desktop.login.SessionTerminatedMessage");break;case"SessionExpiredMessage":i=I.get("desktop.login.SessionExpiredMessage");break;case"BadCredentialsMessage":i=I.get("desktop.login.BadCredentialsMessage");break;case"ErrorResolvingDNS":i=I.get("desktop.login.ErrorResolvingDNS");break;case"ErrorProxyUnauthorized":i=I.get("desktop.login.ErrorProxyUnauthorized");break;case"ErrorProxyForbidden":i=I.get("desktop.login.ErrorProxyForbidden");break;case"ErrorProxyAuthRequired":i=I.get("desktop.login.ErrorProxyAuthRequired",s[0]);break;case"CriticalUpdate":i=I.get("desktop.login.CriticalUpdate");break;case"UserBannedMessage":i=I.get("desktop.login.UserBannedMessage");break;case"UserNotAllowedOnPlatformMessage":i=I.get("desktop.login.UserNotAllowedOnPlatformMessage");break;case"MissingUserInfoMessage":i=I.get("desktop.login.MissingUserInfoMessage",s[0]);break;case"RegionMismatchMessage":i=I.get("desktop.login.RegionMismatchMessage",s[0],s[1]);break;case"PremiumUsersOnlyMessage":i=I.get("desktop.login.PremiumUsersOnlyMessage");break;case"CreateUserDeniedMessage":i=I.get("desktop.login.CreateUserDeniedMessage");break;case"ClientUpdateFail":i=I.get("desktop.login.ClientUpdateFail",s[0]);break;case"FbUserNotFoundSignUp":i=I.get("desktop.login.FbUserNotFoundSignUp",s[0])}return`${i}<br>${I.get("desktop.login.errorCode",n)}`}function wn({validity:e={}}){return e.valid?null:["valueMissing","typeMismatch","tooShort"].find((t=>e[t]))}class En extends l().PureComponent{render(){const{errorMessage:e}=this.props;return l().createElement("div",{"aria-live":"polite",className:_n()("FieldError",{"FieldError--hidden":!e})},e||"")}}let vn=0;class Cn extends l().PureComponent{constructor(...e){super(...e),this.idNumber=++vn,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(e)}render(){const{label:e,placeholderLabel:t,name:n,type:r,isRequired:o,taId:s,id:i,defaultValue:a,value:c,minLength:p,autoFocus:u,hasError:g,isDisabled:d,isHiddenForScreenReaders:f,useCustomStyle:m,className:h,inputClassName:b,inputRef:y,onBlur:_,onFocus:S,onInput:w,onKeyDown:E,onKeyUp:v}=this.props,C=i||`GlueTextInput-${this.idNumber}`;return l().createElement("label",{className:m?h:"GlueTextInput",htmlFor:C,"aria-label":e,"aria-hidden":!!f||void 0},l().createElement("input",{className:m?b:_n()("GlueTextInput__input",{"GlueTextInput__input--has-error":g}),tabIndex:f?"-1":void 0,type:r,id:C,name:n,"data-ta-id":s,"aria-invalid":g,disabled:d,minLength:p,autoFocus:u,placeholder:t||e,value:a?void 0:c,defaultValue:a,onBlur:_,onFocus:S,onChange:this.handleChange,onInput:a?void 0:w,onKeyDown:E,onKeyUp:v,ref:y,required:o}))}}Cn.defaultProps={name:"",type:"text",isRequired:!1,taId:"",defaultValue:void 0,value:"",minLength:0,autoFocus:!1,hasError:!1,isDisabled:!1,isHiddenForScreenReaders:!1,useCustomStyle:!1,onBlur(){},onFocus(){},onChange(){},onInput(){},onKeyDown(){}};class kn extends l().PureComponent{constructor(e){super(e),h()(this,"handleTogglePasswordVisible",(()=>{const e=!this.state.passwordVisible;this.setState({passwordVisible:e}),this.props.onTogglePasswordVisibility&&this.props.onTogglePasswordVisibility(e)})),this.state={isEditing:!1,passwordVisible:!1},this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this)}handleBlur({target:e,relatedTarget:t}){this.setState({isEditing:!1}),t&&(t.name||"submit"===t.type)&&this.validate(e)}handleInput(){this.setState({isEditing:!0})}validate(e){const{name:t,onValidate:n,noValidate:r}=this.props;!r&&n&&n(t,wn(e))}renderPasswordEyeToggler(){const{type:e}=this.props,{passwordVisible:t}=this.state;return"password"!==e?null:l().createElement(l().Fragment,null,l().createElement("button",{type:"button",onClick:this.handleTogglePasswordVisible,tabIndex:"-1",className:"FormField--passwordEyeIcon "+(t?"passwordVisible":"")}),l().createElement("span",{tabIndex:"-1",className:"FormField--passwordEyeIcon--cross "+(t?"passwordVisible":"")}))}render(){const{error:e={},noValidate:t,label:n,name:r,type:o,value:s,isRequired:i,minLength:a,autoFocus:c,isDisabled:p,onChange:u,onKeyUp:g,onFocus:d,rightIcon:f=null}=this.props,{isEditing:m,passwordVisible:h}=this.state;let b=o;return"password"===o&&h&&(b="text"),l().createElement("div",{className:_n()("FormField",{"FormField--no-validate":t})},l().createElement(Cn,{label:n,name:r,type:b,taId:`${r}-field`,value:s,isRequired:i,minLength:a,autoFocus:c,hasError:!!e.message&&!m,isDisabled:p,onChange:u,onFocus:d,onKeyUp:g,onBlur:this.handleBlur,onInput:this.handleInput}),f&&l().createElement("span",{className:`FormField--rightIcon spoticon-${f}-24`}),this.renderPasswordEyeToggler(),!t&&!m&&e.message&&l().createElement(l().Fragment,null,l().createElement("div",{className:"FormInputErrorIndicator spoticon-exclamation-circle-24"}),l().createElement(En,{errorMessage:e.message})))}}var On=(0,g.$j)((e=>({featureFlags:e.app.featureFlags||{}})),(()=>({})))(kn),In=n(2398),Pn=n.n(In);const Tn=["type","name","label","classes","hasError"];class Un extends l().PureComponent{constructor(...e){super(...e),this.handleBlur=this.handleBlur.bind(this)}handleBlur(e={}){this.props.onBlur&&this.props.onBlur(e)}render(){const e=this.props,{type:t="text",name:n,label:r,classes:o,hasError:s}=e,i=Ye()(e,Tn),a=`${n}-field`;return l().createElement("span",{className:o},l().createElement("label",{className:"glue-hidden-visually",htmlFor:a},r),l().createElement("input",Pn()({},i,{onBlur:this.handleBlur,type:t,name:n,id:a,"data-ta-id":a,className:_n()("form-control Input",{"Input--has-error":s}),"aria-invalid":!!s,placeholder:r,required:!0})))}}const Nn="tooYoung",An=(e,t,n,r)=>{let o=null;return((e,t,n)=>[e,t,n].reduce(((e,t)=>e&&!!t),!0))(e,t,n)?((e,t,n)=>{const r=new Date(n,t-1,e);return r.getDate()===e&&r.getMonth()===t-1&&r.getFullYear()===n})(e,t,n)?((e,t,n,r)=>{const o=new Date,s=o.setFullYear(o.getFullYear()-r);return new Date(n,t-1,e)>s})(e,t,n,r)?o=Nn:n<1900&&(o="tooOld"):o="invalid":o="incomplete",o};function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ln={0:"big",1:"little",2:"middle"};class Mn extends l().PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.monthStrings=[I.get("desktop.login.January"),I.get("desktop.login.February"),I.get("desktop.login.March"),I.get("desktop.login.April"),I.get("desktop.login.May"),I.get("desktop.login.June"),I.get("desktop.login.July"),I.get("desktop.login.August"),I.get("desktop.login.September"),I.get("desktop.login.October"),I.get("desktop.login.November"),I.get("desktop.login.December")],this.handleInput=this.handleInput.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleInput({target:{name:e,value:t,validity:n={}}}){this.setState({isEditing:!0}),n.valueMissing?this.props.onChange(Dn(Dn({},this.props.value),{},{[e]:void 0})):(n.valid||n.rangeUnderflow)&&this.props.onChange(Dn(Dn({},this.props.value),{},{[e]:parseInt(t,10)}))}handleBlur(e){const t=e.relatedTarget?e.relatedTarget.name:null,n=["day","month","year"].includes(t);this.setState({isEditing:n}),n||this.validate()}handleFocus(e){this.setState({isEditing:!0});const t=e.relatedTarget?e.relatedTarget.name:null;!["day","month","year"].includes(t)&&this.props.onFocus&&this.props.onFocus()}validate(){const{day:e,month:t,year:n}=this.props.value,r=An(e,t,n,this.props.minAge);this.props.onValidate("birthDate",r)}renderYear(e,t,n){return l().createElement(Un,{type:"number",name:"year",classes:"FormDate__input FormDate__year",label:I.get("desktop.login.Year"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1900,hasError:t.includes("year"),onFocus:this.handleFocus})}renderMonth(e,t,n){return l().createElement("select",{name:"month",id:"month-field",className:_n()("form-control Input FormDate__input FormDate__month",{"Input--has-error":t.includes("month")}),autoFocus:n,defaultValue:e||"",required:!0,onChange:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,onFocus:this.handleFocus},l().createElement("option",{value:"",disabled:!0,hidden:!0},I.get("desktop.login.Month")),this.monthStrings.map(((e,t)=>l().createElement("option",{value:t+1,key:t},e))))}renderDay(e,t,n){return l().createElement(Un,{type:"number",name:"day",classes:"FormDate__input FormDate__day",label:I.get("desktop.login.Day"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1,max:31,hasError:t.includes("day"),onFocus:this.handleFocus})}render(){const{name:e,label:t,dateEndianness:n,error:r={},autoFocus:o}=this.props,{day:s,month:i,year:a}=this.props.value,{isEditing:c}=this.state,p=["day","month","year"].filter((e=>!(c||!r.message)&&("incomplete"===r.code?!this.props.value[e]:"tooOld"!==r.code||"year"===e)));let u="";return u="big"===Ln[n]?l().createElement("div",{className:"FormDate__inputs"},this.renderYear(a,p,o),this.renderMonth(i,p),this.renderDay(s,p)):"little"===Ln[n]?l().createElement("div",{className:"FormDate__inputs"},this.renderDay(s,p,o),this.renderMonth(i,p),this.renderYear(a,p)):l().createElement("div",{className:"FormDate__inputs"},this.renderMonth(i,p,o),this.renderDay(s,p),this.renderYear(a,p)),l().createElement("div",{className:"FormDate"},l().createElement("label",{className:`FormDate__label ${e}-label`,htmlFor:"month-field"},t),u,!c&&r.message&&l().createElement(l().Fragment,null,l().createElement(En,{errorMessage:r.message}),l().createElement("div",{className:"FormInputErrorIndicator spoticon-exclamation-circle-24"})))}}Mn.defaultProps={value:{},dateEndianness:2,minAge:13};var Bn=(0,g.$j)((e=>({featureFlags:e.app.featureFlags||{}})),(()=>({})))(Mn);const Rn=["name","label","options","value","showTitle","error","onValidate","onOptionFocus"];class jn extends l().PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleBlur(e){this.state={isEditing:!1};(e.relatedTarget?e.relatedTarget.name:null)!==this.props.name&&this.validate(e.target)}handleFocus(e){this.state={isEditing:!0},this.props.onOptionFocus&&e&&e.target&&this.props.onOptionFocus(e.target.value)}validate(e){const{name:t,onValidate:n}=this.props;n&&n(t,wn(e))}render(){const e=this.props,{name:t,label:n,options:r,value:o,showTitle:s,error:i={},onValidate:a,onOptionFocus:c}=e,p=Ye()(e,Rn),{isEditing:u}=this.state,g=`${t}-field`,d=_n()("FormRadioSelect",{"FormRadioSelect--is-disabled":this.props.disabled});return l().createElement("div",{className:d},l().createElement("label",{className:s?"":"glue-hidden-visually",htmlFor:g},n),r.map((e=>{const n=`${e.value}-radio`;return l().createElement("span",{className:o===e.value?"checked":"",key:e.value},l().createElement("input",Pn()({},p,{name:t,type:"radio",id:n,className:"glue-hidden-visually",value:e.value,checked:o===e.value,onBlur:this.handleBlur,onFocus:this.handleFocus,required:!0,disabled:this.props.disabled})),l().createElement("label",{className:_n()("FormRadioSelect__label",{"FormRadioSelect__label--has-error":!!i.message}),htmlFor:n},e.label))})),!u&&i.message&&l().createElement(l().Fragment,null,l().createElement(En,{errorMessage:i.message}),l().createElement("div",{className:"FormInputErrorIndicator spoticon-exclamation-circle-24"})))}}var xn=(0,g.$j)((e=>({featureFlags:e.app.featureFlags||{}})),(()=>({})))(jn);class Gn extends l().PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.isDisabled||this.props.onChange(e.target.checked)}render(){const e=`${this.props.name}-field`,t=_n()("GlueCheckbox",{"GlueCheckbox--is-disabled":this.props.isDisabled});return l().createElement("div",{className:t},l().createElement("input",{className:"GlueCheckbox__input",id:e,name:this.props.name,checked:this.props.isChecked,type:"checkbox",onChange:this.handleChange,disabled:this.props.isDisabled}),l().createElement("label",{className:"GlueCheckbox__label",htmlFor:e,dangerouslySetInnerHTML:{__html:this.props.label}}))}}Gn.defaultProps={label:"",name:"",isChecked:!1,isDisabled:!1,onChange(){}};var Hn=n(8418);class Wn extends l().Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(e.target.getAttribute("data-action")){const t=e.target.getAttribute("data-action");"showSettings"===t?this.props.openSettingsPage():"showSignup"===t&&this.props.openSignupPage()}}render(){const e=this.props.errorData,t=e?Sn(e.errorCategory,e.errorCode,e.errorReference):null;return t?l().createElement("div",{className:"alert alert-danger ErrorMessage alert-icon",id:"login-message","data-ta-id":"login-message",role:"alert","aria-live":"assertive",onClick:this.handleClick},l().createElement(Hn.ZP,{iconSize:24}),l().createElement("span",{dangerouslySetInnerHTML:{__html:t}})):null}}var $n=(0,g.$j)((e=>{let{mode:t}=e.app;return"welcome"===t&&(t="signup"),{errorData:e[t]&&e[t].errorData?e[t].errorData:null}}),(e=>({openSettingsPage:()=>e(Qt.enterSettingsMode()),openSignupPage:()=>e(Qt.openSignupPage())})))(Wn);class Vn extends l().PureComponent{static getNextId(){const e=(Vn.instanceCount||0)+1;return Vn.instanceCount=e,e}constructor(e){super(e),this.state={tosAgreed:!1,privacyAgreed:!1},this.handleTosChange=this.handleTosChange.bind(this),this.handlePrivacyChange=this.handlePrivacyChange.bind(this),this.handleTosAndPrivacyChange=this.handleTosAndPrivacyChange.bind(this),this.handleEulaChange=this.handleEulaChange.bind(this),this.eulaId=Vn.getNextId()}handleTosChange(e){this.setState({tosAgreed:e},(()=>{this.handleEulaChange()}))}handlePrivacyChange(e){this.setState({privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleTosAndPrivacyChange(e){this.setState({tosAgreed:e,privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleEulaChange(){this.props.onChange(this.state.tosAgreed&&this.state.privacyAgreed)}render(){let e=null;const t=`<a href="https://www.spotify.com/int/legal/end-user-agreement/" target="_new">${I.get("desktop.login.TermsAndConditions")}</a>`,n=`<a href="https://www.spotify.com/int/legal/privacy-policy/" target="_new">${I.get("desktop.login.PrivacyPolicy")}</a>`,r=I.get("desktop.login.SignupButton");return e=this.props.restrictions.pretick_eula?l().createElement("div",null,!this.props.hideTermsAndConditions&&l().createElement("p",{className:"SignupForm__terms-and-conditions",dangerouslySetInnerHTML:{__html:I.get("desktop.login.SignupAgree",r,t)}}),!this.props.hidePrivacyPolicy&&l().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:I.get("desktop.login.PrivacyPolicyAgree",n)}})):this.props.restrictions.can_accept_licenses_in_one_step?l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Gn,{name:`agree-eula-${this.eulaId}`,label:this.props.restrictions.specific_licenses?I.get("desktop.login.SignupAgreeCheckboxSpecificLicenses",t,n):I.get("desktop.login.SignupAgreeCheckbox",t,n),onChange:this.handleTosAndPrivacyChange,isChecked:this.state.tosAgreed&&this.state.privacyAgreed,isDisabled:this.props.disabled}),this.props.restrictions.specific_licenses&&l().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:I.get("desktop.login.PrivacyPolicyAgree",n)}})):l().createElement("div",null,l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Gn,{name:`agree-tos-${this.eulaId}`,label:I.get("desktop.login.TermsOfServiceAgreeCheckbox",t),onChange:this.handleTosChange,isChecked:this.state.tosAgreed,isDisabled:this.props.disabled})),l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Gn,{name:`agree-privacy-${this.eulaId}`,label:I.get("desktop.login.PrivacyPolicyAgreeCheckbox",n),onChange:this.handlePrivacyChange,isChecked:this.state.privacyAgreed,isDisabled:this.props.disabled}))),l().createElement("div",{className:"EulaAgreement"},e,this.props.error&&this.props.error.message&&l().createElement(l().Fragment,null,l().createElement("div",{className:"FormInputErrorIndicator spoticon-exclamation-circle-24"}),l().createElement(En,{errorMessage:this.props.error.message})))}}var Yn=(0,g.$j)((e=>({featureFlags:e.app.featureFlags||{}})),(()=>({})))(Vn);class qn extends l().PureComponent{constructor(...e){super(...e),h()(this,"handleClick",(e=>{const{method:t}=this.props;e&&(e.preventDefault(),e.stopPropagation()),this.props.onClick(t)}))}render(){const{type:e,label:t,isDisabled:n,method:r}=this.props,o=r.substr(0,1).toUpperCase()+r.substr(1),s=_n()("button","SocialButton",`${o}Button`,{[`${o}Button--login`]:"login"===e,[`${o}Button--signup`]:"signup"===e});return l().createElement("button",{type:"button",className:s,onClick:this.handleClick,"data-ta-id":`${r}-${e}-button`,disabled:n},t)}}function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Jn extends l().PureComponent{constructor(e){super(e),h()(this,"handleAgreeEulaChange",(e=>{const t=e?"checked":"unchecked";this.props.onInteraction("signup","click",`eula-change-${t}`),this.setState({eulaAgreed:e,error:e?{}:this.state.error})})),h()(this,"handleOnClick",((...e)=>{(()=>this.state.eulaAgreed||this.props.restrictions.pretick_eula||this.props.hideEula)()?this.props.onClick(...e):this.setState({error:{message:I.get("desktop.login.agreeEula.notAccepted")}})})),this.state={eulaAgreed:this.props.restrictions.pretick_eula,error:{}}}render(){return l().createElement("div",{className:"SignupFacebook"},l().createElement(qn,{method:"facebook",isDisabled:this.props.isDisabled,onClick:this.handleOnClick,type:"signup",label:I.get("desktop.login.SignupButtonFacebookNirvana")}),this.props.restrictions.pretick_eula||this.props.hideEula?null:l().createElement(Yn,{restrictions:this.props.restrictions,error:this.state.error,disabled:this.props.isDisabled,onChange:this.handleAgreeEulaChange}))}}h()(Jn,"defaultProps",{isDisabled:!1,hideEula:!1});var Zn=(0,g.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})),(e=>({onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s)),onClick:t=>{const n=mn();e(Qt.signupWithAccounts(t,n)),e(Qt.interaction("signup","click",`create-account-${t}`,null,n))}})),((e,t)=>Kn(Kn(Kn({},e),t),{},{onClick:e=>{t.onClick(e)}})))(Jn);const Xn=({title:e})=>l().createElement("p",{className:"FormTitleSeparator","aria-hidden":"true"},e);Xn.defaultProps={title:""};var Qn=Xn;class er extends l().PureComponent{constructor(e){super(e),h()(this,"handleEmailValidate",((e,t)=>{this.props.onValidate(e,t),t||this.props.validateEmail()})),h()(this,"handleEmailFocus",(()=>{this.props.onInteraction("signup","click","input-email")})),h()(this,"handlePasswordValidate",((e,t)=>{this.props.onValidate(e,t),t||this.props.validatePassword()})),h()(this,"handlePasswordFocus",(()=>{this.props.onInteraction("signup","click","input-password")})),h()(this,"handleNameFocus",(()=>{this.props.onInteraction("signup","click","input-name")})),h()(this,"handleGenderOptionFocus",(e=>{this.props.onInteraction("signup","click",`input-gender-${e}`)})),h()(this,"handleInputChange",(({target:{name:e,value:t}})=>{this.props.updateData({[e]:t}),this.setState({isEditing:!0})})),h()(this,"handleBirthDateChange",(e=>{this.props.updateData({birthDate:e})})),h()(this,"handleSendEmailChange",(e=>{this.props.updateData({sendEmail:e})})),h()(this,"handleShareDataChange",(e=>{this.props.updateData({shareData:e})})),h()(this,"handleAgreeEulaChange",(e=>{this.props.updateData({agreeEula:e})})),h()(this,"handleSubmit",(e=>{e&&e.preventDefault();const{step:t}=this.props,n=mn();this.props.onInteraction("signup","click",0===t?"continue":"create-account",null,n),this.setState({isEditing:!1});let r=!0;const o={0:["email","password","name"],1:["birthDate","gender","agreeEula"]};!!this.props.errors&&Object.keys(this.props.errors).filter((e=>-1!==o[t].indexOf(e))).some((e=>this.props.errors[e]&&this.props.errors[e].message))&&(r=!1);const s=e=>t=>{this.props.data[t]||(this.props.onValidate(t,{code:e}),r=!1)};switch(t){case 0:["email","password","name"].forEach(s("valueMissing"));break;case 1:{const{day:e,month:t,year:o}=this.props.data.birthDate;o||this.props.onInteraction("signup","view","show-error-empty-year",null,n),t||this.props.onInteraction("signup","view","show-error-empty-month",null,n),e||this.props.onInteraction("signup","view","show-error-empty-date",null,n);const i=An(e,t,o,this.props.restrictions.minimum_age);i&&(this.props.onValidate("birthDate",{code:i}),r=!1),s("valueMissing")("gender"),s("notAccepted")("agreeEula")}}if(r)switch(t){case 0:this.setStep(t+1);break;case 1:this.props.signup(n)}})),h()(this,"handleBack",(()=>{const{step:e}=this.props;this.props.onInteraction("signup","click",`back-step-${e+1}`),this.props.clearAllErrors(),e<=0?this.props.enterWelcomeMode():this.setStep(e-1)})),h()(this,"handleLogin",(()=>{const e=this.props.isWebAuthFlowControl?"open-page-login":"login-web",t=mn();this.props.onInteraction("signup","click",e,null,t),this.props.enterLoginMode(t)})),h()(this,"setStep",(e=>{switch(e){case 0:this.props.enterSignupModeStep0();break;case 1:this.props.enterSignupModeStep1()}})),this.state={isEditing:!0}}renderErrorMsg(){const e=Object.keys(this.props.errors).filter((e=>this.props.errors[e]&&this.props.errors[e].message));return l().createElement("div",{className:"glue-hidden-visually",role:"alert","aria-live":this.state.isEditing?"off":"assertive"},e.length>0?l().createElement("div",null,l().createElement("p",null,I.get("desktop.login.email.errorMessageA11y",e.length)),l().createElement("ul",null,e.map((e=>l().createElement("li",{key:e},this.props.errors[e].message))))):null)}renderStep0(){const{data:e,errors:t,isDisabled:n,onValidate:r}=this.props;return l().createElement("div",null,l().createElement(On,{name:"email",type:"email",label:I.get("desktop.login.SignupEmail"),value:e.email,onChange:this.handleInputChange,isDisabled:n,error:t.email,onValidate:this.handleEmailValidate,onFocus:this.handleEmailFocus,isRequired:!0,autoFocus:!0,rightIcon:"email"}),l().createElement(On,{name:"password",type:"password",label:I.get("desktop.login.CreateAPassword"),value:e.password,onChange:this.handleInputChange,minLength:8,isRequired:!0,isDisabled:n,error:t.password,onValidate:this.handlePasswordValidate,onFocus:this.handlePasswordFocus,onTogglePasswordVisibility:e=>{this.props.onInteraction("signup","click",e?"toggle-password-visibility-show":"toggle-password-visibility-hide")}}),l().createElement(On,{name:"name",label:I.get("desktop.login.SignupName"),value:e.name,onChange:this.handleInputChange,isRequired:!0,isDisabled:n,error:t.name,onValidate:r,rightIcon:"user-circle",onFocus:this.handleNameFocus}))}renderStep1(){const{data:e,errors:t,restrictions:n,isDisabled:r,onValidate:o}=this.props;let s=null;n.requires_marketing_opt_in_text?s=l().createElement("div",{className:"SignupForm__send-email-implicit"},I.get("desktop.login.SendEmailImplicitLabel")):n.requires_marketing_opt_in&&(s=l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Gn,{name:"send-email",label:I.get("desktop.login.SendEmailLabel"),onChange:this.handleSendEmailChange,isChecked:e.sendEmail,isDisabled:r})));const i=[{label:I.get("desktop.login.Female"),value:"female"},{label:I.get("desktop.login.Male"),value:"male"}];return n.use_all_genders&&i.push({label:I.get("desktop.login.NonBinary"),value:"neutral"}),l().createElement("div",null,l().createElement(Bn,{name:"birth-date",label:I.get("desktop.login.WhatsYourSignupBirthDate"),value:e.birthDate,onChange:this.handleBirthDateChange,disabled:r,error:t.birthDate,onValidate:o,dateEndianness:n.date_endianness,minAge:n.minimum_age,autoFocus:!0,onFocus:()=>{this.props.onInteraction("signup","click","input-birth-date")}}),l().createElement(xn,{showTitle:!0,name:"gender",label:I.get("desktop.login.WhatsYourSignupGender"),options:i,value:e.gender,onChange:this.handleInputChange,disabled:r,error:t.gender,onValidate:o,onOptionFocus:this.handleGenderOptionFocus}),s,l().createElement(Yn,{restrictions:n,error:t.agreeEula,disabled:r,onChange:this.handleAgreeEulaChange}))}render(){const{isDisabled:e,step:t}=this.props;return l().createElement("form",{onSubmit:this.handleSubmit,className:"SignupForm"},this.renderErrorMsg(),l().createElement($n,null),0===t?this.renderStep0():"",1===t?this.renderStep1():"",l().createElement("button",{type:"submit",className:"button button-green button-large SignupForm__signup-button",disabled:e,id:"signup-button",onClick:this.handleSubmit,"data-ta-id":"signup-submit"},0===t?I.get("desktop.login.Continue"):I.get("desktop.login.SignupButton")),0===t&&l().createElement(l().Fragment,null,l().createElement(Qn,{title:I.get("desktop.login.SignupOr")}),l().createElement(Zn,null)),l().createElement("a",{href:"#",className:"SignupForm__back-button",onClick:this.handleBack},I.get("desktop.login.Back")),0===t&&l().createElement("h3",{className:"FooterFormText"},l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"login-link",onClick:this.handleLogin,dangerouslySetInnerHTML:{__html:I.get("desktop.login.AlreadyOnSpotifyLogin")}})))}}h()(er,"defaultProps",{errors:{},data:{},step:0});var tr=(0,g.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions,featureFlags:e.app.featureFlags,email:e.signup.email,errors:e.signup.errors,data:e.signup.formData,isWebAuthFlowControl:pn(e.app)})),(e=>({signup:t=>e(Qt.signup(t)),enterLoginMode:()=>e(Qt.enterLoginMode()),enterSignupModeStep0:()=>e(Qt.enterSignupModeStep0()),enterSignupModeStep1:()=>e(Qt.enterSignupModeStep1()),updateData:t=>e(Qt.updateSignupData(t)),validateEmail:()=>e(Qt.validateField("email")),validatePassword:()=>e(Qt.validateField("password")),enterWelcomeMode:()=>e(Qt.enterWelcomeMode()),clearAllErrors:()=>e(Qt.clearAllErrors()),onValidate:(t,n)=>{if(n){const r=n.code||n,o={birthDate:{incomplete:I.get("desktop.login.birthDate.incomplete"),invalid:I.get("desktop.login.birthDate.invalid"),tooYoung:I.get("desktop.login.birthDate.tooYoung"),tooOld:I.get("desktop.login.birthDate.tooOld")},password:{valueMissing:I.get("desktop.login.password.valueMissing"),tooShort:I.get("desktop.login.password.tooShort")},email:{valueMissing:I.get("desktop.login.email.valueMissing"),typeMismatch:I.get("desktop.login.email.typeMismatch")},name:{valueMissing:I.get("desktop.login.name.valueMissing")},gender:{valueMissing:I.get("desktop.login.gender.valueMissing")}};e(Qt.validateFieldFailure(t,{code:r,message:o[t]&&o[t][r]||""}))}else e(Qt.validateFieldSuccess(t))},onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s))})))(er);class nr extends l().PureComponent{render(){const{step:e,restrictions:t}=this.props;if(!t)return l().createElement(en,{delay:2e3});const n=0===e?I.get("desktop.login.SignupHeroText"):I.get("desktop.login.SignupAlmostDone");return l().createElement("main",{className:"Signup","aria-labelledby":"signup-form-title",id:"signup","data-ta-id":"signup-form"},l().createElement("h1",{className:"HeroText",id:"signup-form-title"},n),l().createElement(tr,{step:e}))}}var rr=(0,g.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})))(nr);class or extends l().PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(){this.props.isDisabled||this.props.onChange(!this.props.isActive)}render(){const{isActive:e,isDisabled:t,labelId:n,taId:r}=this.props;return l().createElement("div",{className:_n()("GlueToggle",{"GlueToggle--is-active":e,"GlueToggle--is-disabled":t})},l().createElement("input",{type:"checkbox",name:n,id:n,className:"glue-hidden-visually",onChange:this.handleChange,checked:e,disabled:t,"data-ta-id":r}),l().createElement("div",{className:"GlueToggle__toggle",onClick:this.handleChange,"aria-hidden":"true"},l().createElement("div",{className:"GlueToggle__toggle-inner"})))}}or.defaultProps={isActive:!1,isDisabled:!1,onChange:()=>{}};class sr extends l().PureComponent{render(){const{name:e,label:t,checked:n,disabled:r,onChange:o}=this.props,s=`${e}-field`;return l().createElement("div",{className:"FormToggle"},l().createElement("label",{htmlFor:s,"data-ta-id":"remember-me-label"},t),l().createElement(or,{labelId:s,isActive:n,onChange:o,taId:"remember-me-slider",isDisabled:r}))}}class ir extends l().PureComponent{constructor(e){super(e),h()(this,"handleForgotPasswordLinkClick",(()=>{this.props.onInteraction("login","click","reset-password")})),this.state={username:this.props.username,password:"",rememberMe:!0},["handleSubmit","handleUsernameChange","handleUsernameFocus","handlePasswordChange","handlePasswordFocus","handleRememberMeChange"].forEach((e=>{this[e]=this[e].bind(this)}))}handleUsernameChange({target:e}){this.setState({username:e.value})}handleUsernameFocus(){this.props.onInteraction("login","click","input-email")}handlePasswordChange({target:e}){this.setState({password:e.value})}handlePasswordFocus(){this.props.onInteraction("login","click","input-password")}handleRememberMeChange(){this.setState({rememberMe:!this.state.rememberMe})}handleSubmit(e){e&&e.preventDefault();const t=this.state.username.trim(),{password:n,rememberMe:r}=this.state,o=mn();this.props.onInteraction("login","click","login-email",null,o),t&&n?this.props.login({username:t,password:n,rememberMe:r},!1,o):t?n||this.props.onInteraction("login","view","show-error-empty-password",null,o):this.props.onInteraction("login","view","show-error-empty-email",null,o)}render(){const{isDisabled:e}=this.props;return l().createElement("form",{onSubmit:this.handleSubmit},l().createElement("h3",{className:"glue-hidden-visually"},I.get("desktop.login.LoginWithEmailTitle")),l().createElement($n,null),l().createElement(On,{name:"username",label:I.get("desktop.login.LoginUsernameOrEmail"),value:this.state.username||"",onChange:this.handleUsernameChange,onFocus:this.handleUsernameFocus,isDisabled:e,autoFocus:!0,noValidate:!0,rightIcon:"email"}),l().createElement(On,{name:"password",type:"password",label:I.get("desktop.login.LoginPassword"),value:this.state.password,onChange:this.handlePasswordChange,onFocus:this.handlePasswordFocus,isDisabled:e,noValidate:!0,rightIcon:"eye"}),l().createElement("a",{className:"LoginForm__reset-password",href:"https://www.spotify.com/redirect/password-reset",target:"_new",onClick:this.handleForgotPasswordLinkClick},I.get("desktop.login.forgotPassLink")),l().createElement(sr,{name:"remember-me",label:I.get("desktop.login.RememberMeLabel"),checked:this.state.rememberMe,onChange:this.handleRememberMeChange,disabled:e}),l().createElement("button",{type:"submit",className:"button button-white LoginForm__login-button",disabled:e,id:"login-button","data-ta-id":"login-button"},I.get("desktop.login.LoginButton")))}}var ar=(0,g.$j)((e=>({isDisabled:!!e.login.loginInProgress,username:e.login.username})),(e=>({login:(t,n,r)=>e(Qt.login(t,n,r)),onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s))})))(ir);function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class pr extends l().PureComponent{componentWillUnmount(){this.props.clearErrors()}handleSignup(){const e=this.props.isWebAuthFlowControl?"open-page-signup":"create-account-web",t=mn();this.props.enterSignupMode(t),this.props.onInteraction("login","click",e,null,t)}getSignupLink(){return this.props.isWebAuthFlowControl?l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignup(),"data-ta-id":"signup-link",dangerouslySetInnerHTML:{__html:I.get("desktop.login.DontHaveAnAccountSignup")}}):l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignup(),"data-ta-id":"signup-link"},I.get("desktop-auth.login.new-to-spotify")," ",l().createElement("u",null,I.get("desktop-auth.login.sign-up")))}render(){const{isDisabled:e}=this.props;return l().createElement("main",{className:"Login","aria-labelledby":"login-form-title",id:"login","data-ta-id":"login-form"},l().createElement("h1",{className:"HeroText",id:"login-form-title"},I.get("desktop.login.LoginHeroText")),l().createElement(ar,null),l().createElement(Qn,{title:I.get("desktop.login.SignupOr")}),l().createElement(qn,{method:"facebook",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:I.get("desktop.login.ContinueWithFacebook")}),l().createElement(qn,{method:"google",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:I.get("desktop.login.ContinueWithGoogle")}),l().createElement(qn,{method:"apple",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:I.get("desktop.login.ContinueWithApple")}),l().createElement("h3",{className:"FooterFormText"},this.getSignupLink()))}}var ur=(0,g.$j)((e=>({isDisabled:!!e.login.loginInProgress,isWebAuthFlowControl:pn(e.app)})),(e=>({enterSignupMode:t=>e(Qt.enterSignupMode(t)),onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s)),onSocialButtonClick:t=>{const n=mn();e(Qt.loginWithAccounts(t,n)),e(Qt.interaction("login","click",`login-${t}`,null,n))},clearErrors:()=>e(Qt.loginClearErrors())})),((e,t)=>cr(cr(cr({},e),t),{},{onSocialButtonClick:e=>{t.onSocialButtonClick(e)}})))(pr);class gr extends l().PureComponent{render(){const{operationUsed:e}=this.props,t="signup"===e?I.get("desktop-auth.login.redirecting-to-browser-signup"):I.get("desktop-auth.login.redirecting-to-browser-login");return l().createElement("main",null,l().createElement("h1",{className:"HeroText __redirect"},t))}}var dr=(0,g.$j)((e=>({operationUsed:e.experimentWebAuthReducer.operationUsed})))(gr),fr=n(2559),mr={button:"_3f37264be67c8f40fa9f76449afdb4bd-scss","button-primary":"_9eb5acf729a98d62135ca21777fef244-scss","button-secondary":"_1f2f8feb807c94d2a0a7737b433e19a8-scss","button-outlined":"_110dbc41d89af63f97cdd8b7cd7fea47-scss","button-tertiary":"e6ed3359ee250e2ecc13253d4db86076-scss","btn-block":"c3c4fb6792baf990685ab6af8c9e74f9-scss"};const hr=e=>l().createElement("button",{id:e.id,className:_n()(mr.button,mr[`button-${e.version}`],e.className,{[mr["btn-block"]]:e.block}),type:"button",onClick:e.onClick,disabled:e.disabled,"aria-label":e.ariaLabel,"aria-hidden":e.standalone,"data-testid":e.testID,title:e.title},e.children);hr.defaultProps={onClick:()=>{}};const br=e=>{const t={className:_n()(mr.button,mr[`button-${e.version}`],e.className,{[mr["btn-block"]]:e.block}),title:e.title,draggable:e.draggable||!1,onClick:e.onClick,testID:e.testID};return e.href?l().createElement("a",Pn()({},t,{target:e._blank?"_blank":"_self",href:e.href}),e.children):e.linkTo?l().createElement(fr.rU,Pn()({},t,{to:e.linkTo}),e.children):l().createElement(hr,e,e.children)};hr.defaultProps={onClick:()=>{}};var yr="b48ae24f8464b65a423c5b195979f688-scss";const _r=({value:e,id:t,children:n,disabled:r,onSelect:o,className:s,dir:i})=>l().createElement("span",{className:s},l().createElement("select",{className:yr,value:null==e?void 0:e.toString(),id:t,disabled:r,onBlur:()=>{},onChange:e=>{o(e.target.value)},dir:i},n));var Sr={horizontalPair:"f26c4872a28bea80bc6941b7d57d9450-scss",ProxySettings:"_0f10b45841f62568a5bbafd37c9c9fdf-scss",fullWidth:"dfe38cd1cd030cf851f075b5cb02a3b3-scss",proxyInput:"_9b37c3838454ab6b5b8fb878f6ac3d51-scss",labelStretch:"_49419660fadc5e54316c2a32a473e7e7-scss",restartAppButton:"_7f3eccd961556e6c861e467dda9af7bb-scss",title:"_1db7762918e9080b3de49854368ae076-scss"},wr=n(5370);const Er=({id:e,type:t,placeHolder:n,inputRef:r,handleOnChange:o})=>l().createElement("input",{type:t||"text",id:e,"data-testid":e,className:Sr.proxyInput,placeholder:n,ref:r,onChange:o}),vr=({children:e,label:t})=>l().createElement(wr.c,{label:t},e);var Cr={isBook:"_48ac502403cc6e8592cba59191a2302f-scss",isBold:"ee42cc1e29b55332f9a50257267be806-scss",isBlack:"dfd5fb938cca6bef52d306d2438316a6-scss",isCondensed:"_38ef34b26c6d6a493c1cbdd56c042f33-scss",bass:"a12b67e576d73f97c44f1f37026223c4-scss",forte:"adee04dcc8156ce40445283e72fd3c7d-scss",brio:"b5f199d233c8716a06af6c6edcc20726-scss",alto:"_4927510282dae1bd4bce47f1df0bc361-scss",canon:"_15b259574e48922b106bc4b01521f33b-scss",cello:"_5931a1bdc4e2c62e1e17be9b00b0d69b-scss",ballad:"_8a9c5cc886805907de5073b8ebc3acd8-scss",balladBold:"_3957b7dd066dbbba6a311b40a427c59f-scss",mesto:"f3fc214b257ae2f1d43d4c594a94497f-scss",mestoBold:"_9642f084eaa7faec9f8f003145b6c289-scss",metronome:"_6590f3d665c4f571484fe4977fd4de1f-scss",finale:"_5f899d811cf206c5925f6450626fb0aa-scss",finaleBold:"_1832c5e13be4a8a98d1eab5e30e4a105-scss",minuet:"_61f284de1c56917f93c55a3ae121ba1c-scss",minuetBold:"b490086127ec0ecdc7b170c03de9c5b1-scss",viola:"_2002bac6ea2fc1db22e491bd0d24f1ee-scss",violaBold:"_6e2a0e7c3556ed8a682f8e3757169a33-scss"},kr=n(4298);const Or=["color","variant","condensed","weight","className"];function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Tr,Ur;!function(e){e.bass="bass",e.forte="forte",e.brio="brio",e.alto="alto",e.canon="canon",e.cello="cello",e.ballad="ballad",e.balladBold="balladBold",e.viola="viola",e.violaBold="violaBold",e.mesto="mesto",e.mestoBold="mestoBold",e.metronome="metronome",e.minuet="minuet",e.minuetBold="minuetBold",e.finale="finale",e.finaleBold="finaleBold"}(Tr||(Tr={})),function(e){e.book="book",e.bold="bold",e.black="black"}(Ur||(Ur={}));const Nr=l().forwardRef(((e,t)=>{let{color:n,variant:r=Tr.ballad,condensed:o,weight:s,className:i}=e,a=Ye()(e,Or);const c=(e=>void 0!==e&&Object.prototype.hasOwnProperty.call(kr.$_Y,e))(n)?kr.$_Y[n]:n,p=Cr[r],u=a.as?a.as:"span";return l().createElement(u,Pn()({className:_n()(i,{[p]:!!p,[Cr.isBook]:s===Ur.book,[Cr.isBold]:s===Ur.bold,[Cr.isBlack]:s===Ur.black,[Cr.isCondensed]:o}),style:{color:c||""},ref:t},a))})),Ar=Pr(Pr(Pr({},{h1:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h1",ref:t},e)))),h2:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h2",ref:t},e)))),h3:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h3",ref:t},e)))),h4:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h4",ref:t},e)))),h5:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h5",ref:t},e)))),h6:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"h6",ref:t},e)))),p:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"p",ref:t},e)))),small:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"small",ref:t},e)))),li:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"li",ref:t},e)))),span:l().forwardRef(((e,t)=>l().createElement(Nr,Pn()({as:"span",ref:t},e))))}),Tr),Ur),Fr=Object.assign(Nr,Ar),Dr=(e,t,n)=>{let r=`${e}:${t}`;switch(n){case Mt:r+="@http";break;case Bt:r+="@socks4";break;case Rt:r+="@socks5"}return r},Lr=({addr:e,mode:t,pass:n,user:r,setValue:o,restartContainer:s,fullWidth:i})=>{const c=(0,a.useRef)(null),p=(0,a.useRef)(null),u=(0,a.useRef)(null),g=(0,a.useRef)(null),[d,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const[t,n]=(null==e?void 0:e.split(/[:@]+/))||["",""];f(t),h(n),c.current&&(c.current.value=t),p.current&&(p.current.value=n)}),[e]),(0,a.useEffect)((()=>{g.current&&n&&(g.current.value=n.toString())}),[n]),(0,a.useEffect)((()=>{u.current&&r&&(u.current.value=r.toString())}),[r]);const _=(0,a.useCallback)((({target:e})=>{const n=Dr(e.value,m,t||0);f(e.value),o("network.proxy.addr",n),y(!0)}),[t,m,o]),S=(0,a.useCallback)((({target:e})=>{const n=Dr(d,e.value,t||0);h(e.value),o("network.proxy.addr",n),y(!0)}),[t,d,o]),w=(0,a.useCallback)((({target:e})=>{o("network.proxy.user",e.value),y(!0)}),[o]),E=(0,a.useCallback)((({target:e})=>{o("network.proxy.pass",e.value),y(!0)}),[o]),v=0!==t&&1!==t,C=t!==Bt;return l().createElement("div",{className:[Sr.ProxySettings,i?Sr.fullWidth:""].join(" ")},l().createElement(Fr,{as:"h2",variant:Fr.cello,className:Sr.title},I.get("desktop.settings.proxy.title")),l().createElement(vr,{label:I.get("desktop.settings.proxy.type")},l().createElement(_r,{className:Sr.secondColumn,id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);o("network.proxy.mode",t),y(!0)}},xt.map((({enumKey:e,enumValue:t})=>l().createElement("option",{key:e,value:t,"data-testid":e},jt[e]?jt[e].label():""))))),v?l().createElement(l().Fragment,null,l().createElement("div",{className:Sr.horizontalPair},l().createElement(vr,{label:I.get("desktop.settings.proxy.host")},l().createElement(Er,{id:"network.proxy.host",handleOnChange:_,placeHolder:I.get("desktop.settings.proxy.host"),inputRef:c})),l().createElement(vr,{label:I.get("desktop.settings.proxy.port")},l().createElement(Er,{id:"network.proxy.port",type:"number",handleOnChange:S,placeHolder:I.get("desktop.settings.proxy.port"),inputRef:p}))),l().createElement("div",{className:C?Sr.horizontalPair:void 0},l().createElement(vr,{label:I.get("desktop.settings.proxy.user")},l().createElement(Er,{id:"network.proxy.user",handleOnChange:w,placeHolder:I.get("desktop.settings.proxy.user"),inputRef:u})),C?l().createElement(vr,{label:I.get("desktop.settings.proxy.pass")},l().createElement(Er,{id:"network.proxy.pass",handleOnChange:E,placeHolder:I.get("desktop.settings.proxy.pass"),type:"password",inputRef:g})):null)):null,b&&l().createElement(br,{className:Sr.restartAppButton,version:"outlined",onClick:s},I.get("settings.restartApp")))};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Br=["network.proxy.mode","network.proxy.addr","network.proxy.user","network.proxy.pass"];var Rr=(0,g.$j)((e=>({settings:{proxy:e.settings.proxy}})),(e=>({fetchProxySettings(){e(Qt.fetchProxySettings())},updateProxySettings(t){e(Qt.updateProxySettings(t))},restartClient(){e(Qt.restartClient())}})))((({settings:e={proxy:{mode:0,address:"",username:"",password:""}},fetchProxySettings:t=(()=>{}),updateProxySettings:n=(()=>{}),restartClient:r=(()=>{})})=>{(0,a.useEffect)((()=>{t()}),[t]);const o=(0,a.useCallback)(((t,r)=>{if(function(e){return!!Br.includes(e)}(t)){const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.proxy);switch(t){case"network.proxy.mode":o.mode=r;break;case"network.proxy.addr":o.address=r;break;case"network.proxy.user":o.username=r;break;case"network.proxy.pass":o.password=r}n(o)}return Promise.resolve()}),[e,n]);return l().createElement("main",{className:"Settings","aria-labelledby":"settings-form-title"},l().createElement("h1",{className:"HeroText",id:"settings-form-title"},I.get("desktop.login.PreferencesLink")),l().createElement(Lr,{mode:e.proxy.mode,addr:e.proxy.address,user:e.proxy.username,pass:e.proxy.password,setValue:o,restartContainer:r,fullWidth:!0}))}));class jr extends l().PureComponent{constructor(e){super(e),this.handleSettingsClick=this.goToSettingsPage.bind(this),this.handleBackToLoginClick=this.handleBackToLoginClick.bind(this)}handleSignupClick(){const{isWebAuthFlowSignupVariant:e,openSignupPage:t,onInteraction:n}=this.props,r=e?"create-account-web":"open-page-signup",o=mn();t(o),n("login/welcome","click",r,null,o)}handleBackToLoginClick(e){e.preventDefault(),this.props.openLoginPage(),this.props.onInteraction(this.props.mode,"click","back-to-login")}goToSettingsPage(e){e.preventDefault(),this.props.openSettingsPage(),this.props.onInteraction(this.props.mode,"click","open-page-settings")}renderPreferencesLink(){return l().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleSettingsClick,"data-ta-id":"login-footer-settings"},I.get("desktop.login.PreferencesLink"))}renderBackToLoginLink(){return l().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleBackToLoginClick,"data-ta-id":"login-footer-settings-back-to-login"},I.get("desktop.login.Back"))}renderTryAgain(){return l().createElement(l().Fragment,null,l().createElement("span",null,I.get("desktop-auth.login.not-seeing-browser"))," ",l().createElement("a",{href:"#",onClick:()=>this.props.tryAgainHandler()},I.get("desktop-auth.login.try-again")))}renderSignupLink(){const{isWebAuthFlowControl:e}=this.props;return e?l().createElement("a",{className:"Footer__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignupClick(),"data-ta-id":"welcome-signup-link",dangerouslySetInnerHTML:{__html:I.get("desktop.login.DontHaveAnAccountSignup")}}):l().createElement(l().Fragment,null,I.get("desktop-auth.login.new-to-spotify")," ",l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignupClick(),"data-ta-id":"signup-link"},I.get("desktop-auth.login.sign-up")))}render(){const{mode:e}=this.props;return l().createElement("footer",{className:"Footer",role:"contentinfo"},"login"===e&&this.renderPreferencesLink(),"settings"===e&&this.renderBackToLoginLink(),"open-browser"===e&&this.renderTryAgain(),"welcome"===e&&this.renderSignupLink())}}var xr=(0,g.$j)((e=>({isWebAuthFlowControl:pn(e.app),isWebAuthFlowSignupVariant:cn(e.app)})),(e=>({tryAgainHandler:()=>{e(Qt.abortLoginWithAccounts()),e(Qt.enterWelcomeMode())},openLoginPage:()=>{e(Qt.enterLoginMode())},openSignupPage:t=>e(Qt.enterSignupMode(t)),openSettingsPage:()=>e(Qt.enterSettingsMode()),onInteraction:(t,n,r,o,s)=>e(Qt.interaction(t,n,r,o,s))})))(jr);class Gr extends l().PureComponent{render(){return l().createElement("header",{className:"Header"},l().createElement("h1",{className:"glue-hidden-visually"},"Spotify"),l().createElement("img",{className:"Header__logo",src:"images/logo.svg",alt:""}))}}var Hr=n(5768),Wr=n(6006);class $r extends l().Component{renderFakeWebPlayer(){return l().createElement("div",{className:"fakeWebPlayer"},l().createElement("aside",null),l().createElement("footer",null,l().createElement("div",{className:"fakeWebPlayer__footer-left"}),l().createElement("div",{className:"fakeWebPlayer__footer-center"}),l().createElement("div",{className:"fakeWebPlayer__footer-right"})),l().createElement("main",null,l().createElement("div",{className:"fakeWebPlayer__content"})))}render(){const{loading:e,mode:t,loggedIn:n,previousMode:r,throbberDelay:o,featureFlags:s,remoteConfigProps:i,signupStep:a,previousSignupStep:c}=this.props;if(e||!t||!s||!i)return l().createElement(en,{delay:o});if(n)return null;let p=r?`__${t} __${r}-to-${t}`:"";return"signup"===t&&Number.isInteger(c)&&(p+=` __signup_step_${c}_to_${a}`),l().createElement("main",{className:"App",key:"main1","data-ta-id":"login-app","data-ta-login-mode":t},this.renderFakeWebPlayer(),l().createElement("div",{className:`App__content ${p}`},l().createElement(Wr.Z,{mode:"in-out"},l().createElement(Hr.Z,{timeout:{appear:0,enter:0,exit:650},key:p},l().createElement("div",{className:`App__modal ${p}`},l().createElement(Gr,null),"welcome"===t&&l().createElement(bn,null),"signup"===t&&l().createElement(rr,{step:a}),"login"===t&&l().createElement(ur,null),"open-browser"===t&&l().createElement(dr,null),"settings"===t&&l().createElement(Rr,null),l().createElement(xr,{mode:t}))))))}}h()($r,"defaultProps",{throbberDelay:0,transitionLeaveTimeout:0});var Vr=(0,g.$j)((e=>({mode:e.app.mode,previousMode:e.app.previousMode,featureFlags:e.app.featureFlags,remoteConfigProps:e.app.remoteConfigProps,signupStep:e.signup.step,previousSignupStep:e.signup.previousStep,loading:!!e.login.loading,loggedIn:!!e.login.loggedIn,throbberDelay:e.login.throbberDelay,transitionLeaveTimeout:e.login.redirectDelay})))($r),Yr=n(906),qr=n(5870);var zr=n(6262),Kr=n.n(zr),Jr=n(1623),Zr=n.n(Jr),Xr=n(6581),Qr=n.n(Xr),eo=n(106),to=n.n(eo),no=n(2333),ro=n.n(no),oo=n(5005),so=n.n(oo);let io=null;function ao(){if(null===io)throw new Error("Missing `instance`. Have you called `setEventSenderInstance` yet?");return io}function lo(e){const t="undefined"!=typeof __spotify&&null!==__spotify&&(__spotify.is_running_on_teamcity||__spotify.developer_mode),n=function(e){if(!e||e.length%2!=0)throw new TypeError("Invalid hexString value.");const t=e.match(/[0-9a-f]{2}?/g);if(!t||!t.length)throw new TypeError("Invalid hexString value.");const n=String.fromCharCode.apply(null,t.map((function(e){return parseInt(e,16)})));return so().encode(n)}(__spotify.event_sender_installation_id_hex);return Zr().create({clientId:{DEBUG:"true",ENV:"local",NODE_ENV:"production",ORIGIN:"https://open.spotify.com",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0,CDN_FILE_URLS:'{"fonts/CircularSpUIAraOnly-Black.otf":"/fonts/CircularSpUIAraOnly-Black.otf","fonts/CircularSpUIAraOnly-Black.woff":"/fonts/CircularSpUIAraOnly-Black.woff","fonts/CircularSpUIAraOnly-Black.woff2":"/fonts/CircularSpUIAraOnly-Black.woff2","fonts/CircularSpUIAraOnly-Bold.otf":"/fonts/CircularSpUIAraOnly-Bold.otf","fonts/CircularSpUIAraOnly-Bold.woff":"/fonts/CircularSpUIAraOnly-Bold.woff","fonts/CircularSpUIAraOnly-Bold.woff2":"/fonts/CircularSpUIAraOnly-Bold.woff2","fonts/CircularSpUIAraOnly-Book.otf":"/fonts/CircularSpUIAraOnly-Book.otf","fonts/CircularSpUIAraOnly-Book.woff":"/fonts/CircularSpUIAraOnly-Book.woff","fonts/CircularSpUIAraOnly-Book.woff2":"/fonts/CircularSpUIAraOnly-Book.woff2","fonts/CircularSpUIAraOnly-Light.otf":"/fonts/CircularSpUIAraOnly-Light.otf","fonts/CircularSpUIAraOnly-Light.woff":"/fonts/CircularSpUIAraOnly-Light.woff","fonts/CircularSpUIAraOnly-Light.woff2":"/fonts/CircularSpUIAraOnly-Light.woff2","fonts/CircularSpUICyrOnly-Black.otf":"/fonts/CircularSpUICyrOnly-Black.otf","fonts/CircularSpUICyrOnly-Black.woff":"/fonts/CircularSpUICyrOnly-Black.woff","fonts/CircularSpUICyrOnly-Black.woff2":"/fonts/CircularSpUICyrOnly-Black.woff2","fonts/CircularSpUICyrOnly-Bold.otf":"/fonts/CircularSpUICyrOnly-Bold.otf","fonts/CircularSpUICyrOnly-Bold.woff":"/fonts/CircularSpUICyrOnly-Bold.woff","fonts/CircularSpUICyrOnly-Bold.woff2":"/fonts/CircularSpUICyrOnly-Bold.woff2","fonts/CircularSpUICyrOnly-Book.otf":"/fonts/CircularSpUICyrOnly-Book.otf","fonts/CircularSpUICyrOnly-Book.woff":"/fonts/CircularSpUICyrOnly-Book.woff","fonts/CircularSpUICyrOnly-Book.woff2":"/fonts/CircularSpUICyrOnly-Book.woff2","fonts/CircularSpUICyrOnly-Light.otf":"/fonts/CircularSpUICyrOnly-Light.otf","fonts/CircularSpUICyrOnly-Light.woff":"/fonts/CircularSpUICyrOnly-Light.woff","fonts/CircularSpUICyrOnly-Light.woff2":"/fonts/CircularSpUICyrOnly-Light.woff2","fonts/CircularSpUIHbrOnly-Black.otf":"/fonts/CircularSpUIHbrOnly-Black.otf","fonts/CircularSpUIHbrOnly-Black.woff":"/fonts/CircularSpUIHbrOnly-Black.woff","fonts/CircularSpUIHbrOnly-Black.woff2":"/fonts/CircularSpUIHbrOnly-Black.woff2","fonts/CircularSpUIHbrOnly-Bold.otf":"/fonts/CircularSpUIHbrOnly-Bold.otf","fonts/CircularSpUIHbrOnly-Bold.woff":"/fonts/CircularSpUIHbrOnly-Bold.woff","fonts/CircularSpUIHbrOnly-Bold.woff2":"/fonts/CircularSpUIHbrOnly-Bold.woff2","fonts/CircularSpUIHbrOnly-Book.otf":"/fonts/CircularSpUIHbrOnly-Book.otf","fonts/CircularSpUIHbrOnly-Book.woff":"/fonts/CircularSpUIHbrOnly-Book.woff","fonts/CircularSpUIHbrOnly-Book.woff2":"/fonts/CircularSpUIHbrOnly-Book.woff2","fonts/CircularSpUIHbrOnly-Light.otf":"/fonts/CircularSpUIHbrOnly-Light.otf","fonts/CircularSpUIHbrOnly-Light.woff":"/fonts/CircularSpUIHbrOnly-Light.woff","fonts/CircularSpUIHbrOnly-Light.woff2":"/fonts/CircularSpUIHbrOnly-Light.woff2","fonts/CircularSpUIv3T-Black.ttf":"/fonts/CircularSpUIv3T-Black.ttf","fonts/CircularSpUIv3T-Black.woff":"/fonts/CircularSpUIv3T-Black.woff","fonts/CircularSpUIv3T-Black.woff2":"/fonts/CircularSpUIv3T-Black.woff2","fonts/CircularSpUIv3T-Bold.ttf":"/fonts/CircularSpUIv3T-Bold.ttf","fonts/CircularSpUIv3T-Bold.woff":"/fonts/CircularSpUIv3T-Bold.woff","fonts/CircularSpUIv3T-Bold.woff2":"/fonts/CircularSpUIv3T-Bold.woff2","fonts/CircularSpUIv3T-Book.ttf":"/fonts/CircularSpUIv3T-Book.ttf","fonts/CircularSpUIv3T-Book.woff":"/fonts/CircularSpUIv3T-Book.woff","fonts/CircularSpUIv3T-Book.woff2":"/fonts/CircularSpUIv3T-Book.woff2","fonts/CircularSpUIv3T-Light.ttf":"/fonts/CircularSpUIv3T-Light.ttf","fonts/CircularSpUIv3T-Light.woff":"/fonts/CircularSpUIv3T-Light.woff","fonts/CircularSpUIv3T-Light.woff2":"/fonts/CircularSpUIv3T-Light.woff2","fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/devices/android.png":"/images/devices/android.png","images/devices/ios.png":"/images/devices/ios.png","images/devices/mac-web.png":"/images/devices/mac-web.png","images/devices/mac.png":"/images/devices/mac.png","images/devices/windowsphone.png":"/images/devices/windowsphone.png","images/embed-podcast/upsell-background.png":"/images/embed-podcast/upsell-background.png","images/embed/copy-32_circle_grey_outline_bg.svg":"/images/embed/copy-32_circle_grey_outline_bg.svg","images/embed/embed-code-32_circle_grey_outline_bg.svg":"/images/embed/embed-code-32_circle_grey_outline_bg.svg","images/embed/fb_colour.svg":"/images/embed/fb_colour.svg","images/embed/messenger_colour.svg":"/images/embed/messenger_colour.svg","images/embed/twitter_colour.svg":"/images/embed/twitter_colour.svg","images/embed/whatsapp.svg":"/images/embed/whatsapp.svg","images/emi.png":"/images/emi.png","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/follow/avatar-placeholder.png":"/images/follow/avatar-placeholder.png","images/follow/sprite.gif":"/images/follow/sprite.gif","images/follow/sprite@1.png":"/images/follow/sprite@1.png","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_64.png":"/images/icons/Spotify_64.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/merlin.png":"/images/merlin.png","images/mid-year.png":"/images/mid-year.png","images/moviebuff.png":"/images/moviebuff.png","images/og-image.png":"/images/og-image.png","images/orchard.png":"/images/orchard.png","images/rovi.png":"/images/rovi.png","images/sony.png":"/images/sony.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/tracklist-row-episode-fallback.svg":"/images/tracklist-row-episode-fallback.svg","images/tracklist-row-song-fallback.svg":"/images/tracklist-row-song-fallback.svg","images/tracklist-row-video-fallback.svg":"/images/tracklist-row-video-fallback.svg","images/universal.png":"/images/universal.png","images/vinyl-bottom-layer.svg":"/images/vinyl-bottom-layer.svg","images/vinyl-top-layer.svg":"/images/vinyl-top-layer.svg","images/warner.png":"/images/warner.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtag.js":"/js/gtag.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js"}'}.SPOTIFY_CLIENT_ID,transport:e,context:[()=>Qr()({version:__spotify.event_sender_client_version}),()=>ro()({value:n}),()=>to()({name:__spotify.event_sender_os_name,version:__spotify.event_sender_os_version})],enableDebugInfo:t,suppressPersist:t})}const co=y().create().toString();const po="has-used-app",uo=!window.localStorage.getItem(po);uo&&window.localStorage.setItem(po,!0);var go=()=>{const e=_.getItem("utmParameters");let t;try{t=e?JSON.parse(e).referral:""}catch(e){t=""}return t},fo=n(7272),mo=n(8100),ho=n.n(mo);let bo=null;async function yo(e,{page:t}){return _o(e,{page:t,type:"pageview"})}async function _o(e,{page:t,type:n,intent:r,item_id:o,action_hash:s}){const i=function(){if(null===bo)throw new Error("Missing `instance`. Have you called `setRemoteConfigInstance` yet?");return bo}();try{await i.activationPromise}catch(e){}ao().log(Kr()({action_type:n,action_intent:r,action_page:t,action_item_id:o,action_hash:s,device_is_new_install:uo,device_locale:__spotify.locale,device_referrer:go(),ab_flags:rt(e.getState()),session_id:co}))}var So=e=>{window.location.href=e};function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vo={errorMessage:null};var Co=function(e=vo,t){var n;switch(t.type){case Qt.ENTER_SIGNUP_MODE:return Eo(Eo({},e),{},{previousMode:e.mode,mode:cn(e)?"open-browser":"signup"});case Qt.ENTER_LOGIN_MODE:return Eo(Eo({},e),{},{previousMode:e.mode,mode:ln(e)?"open-browser":"login"});case Qt.COUNTRY_NOT_LAUNCHED:return Eo(Eo({},e),{},{previousMode:e.mode,mode:"login"});case Qt.ENTER_WELCOME_MODE:return Eo(Eo({},e),{},{previousMode:e.mode,mode:"welcome",errorMessage:null!==(n=t.errorMessage)&&void 0!==n?n:null});case Qt.ENTER_SETTINGS_MODE:return Eo(Eo({},e),{},{previousMode:e.mode,mode:"settings"});case Qt.FEATURE_FLAGS_SUCCESS:return Eo(Eo({},e),{},{featureFlags:t.featureFlags});case Qt.FEATURE_FLAGS_ERROR:return Eo(Eo({},e),{},{featureFlags:{}});case Qt.REMOTE_CONFIG_PROPS:{if(nt())return Eo(Eo({},e),{},{remoteConfigProps:{},_IGNORED_ON_TEAM_CITY_remoteConfigProps:t.props});let n={};try{n=localStorage.remoteConfigPropsOverrides&&JSON.parse(localStorage.remoteConfigPropsOverrides)||{}}catch(e){n={}}return Eo(Eo({},e),{},{remoteConfigProps:Eo(Eo({},t.props),n)})}default:return e}};function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Io={proxy:{mode:0,address:"",username:"",password:""}};var Po=function(e=Io,t){return function(e){return e.type===Qt.SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS}(t)?Oo(Oo({},e),{},{proxy:{mode:t.data.mode,address:t.data.address,username:t.data.username,password:t.data.password}}):e};function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const No={step:0,isAttempting:!1,isSuccessful:void 0,errors:{},errorData:{},validated:{},formData:{name:"",email:"",password:"",birthDate:{day:void 0,month:void 0,year:void 0},gender:void 0,sendEmail:void 0,shareData:void 0,agreeEula:!1},restrictions:void 0};var Ao=function(e=No,t){switch(t.type){case Qt.ENTER_SIGNUP_MODE_STEP_0:return Uo(Uo({},e),{},{previousStep:e.step,step:0});case Qt.ENTER_SIGNUP_MODE_STEP_1:return Uo(Uo({},e),{},{previousStep:e.step,step:1});case Qt.SIGNUP_RESTRICTIONS_SUCCESS:return Uo(Uo({},e),{},{formData:Uo(Uo({},e.formData),{},{sendEmail:!!t.restrictions.requires_marketing_opt_in_text||void 0,agreeEula:!!t.restrictions.pretick_eula}),restrictions:t.restrictions});case Qt.SIGNUP_RESTRICTIONS_FAILURE:return Uo(Uo({},e),{},{errorData:t.error});case Qt.SIGNUP_ATTEMPT:return Uo(Uo({},e),{},{isAttempting:!0,errorData:null});case Qt.SIGNUP_SUCCESS:return Uo(Uo({},e),{},{isAttempting:!0,isSuccessful:!0,errorData:null});case Qt.SIGNUP_FAILURE:return Uo(Uo({},e),{},{isAttempting:!1,isSuccessful:!1,errors:t.errors,errorData:null});case Qt.FACEBOOK_SIGNUP_ATTEMPT:return Uo(Uo({},e),{},{errorData:null,errors:{}});case Qt.FACEBOOK_SIGNUP_FAILURE:return Uo(Uo({},e),{},{errorData:t.errorData});case Qt.VALIDATE_FIELD_ATTEMPT:return Uo(Uo({},e),{},{errors:Uo(Uo({},e.errors),{},{[t.field]:void 0})});case Qt.VALIDATE_FIELD_FAILURE:return Uo(Uo({},e),{},{errors:Uo(Uo({},e.errors),{},{[t.field]:t.error}),validated:Uo(Uo({},e.validated),{},{[t.field]:!1})});case Qt.VALIDATE_FIELD_SUCCESS:return Uo(Uo({},e),{},{errors:Uo(Uo({},e.errors),{},{[t.field]:void 0}),validated:Uo(Uo({},e.validated),{},{[t.field]:!0})});case Qt.UPDATE_SIGNUP_DATA:{const n={};for(const e of Object.keys(t.data))n[e]=void 0;return Uo(Uo({},e),{},{errors:Uo(Uo({},e.errors),n),formData:Uo(Uo({},e.formData),t.data)})}case Qt.CLEAR_ALL_ERRORS:return Uo(Uo({},e),{},{errors:{}});default:return e}};const Fo=(0,Yr.MT)((0,Yr.UY)({app:Co,login:_e,settings:Po,signup:Ao,experimentWebAuthReducer:fn}),void 0,(0,Yr.md)(qr.Z,(e=>t=>n=>{const r=t(n);switch(n.type){case Qt.START_APP:e.dispatch(Qt.fetchUTMParameters()),e.dispatch(Qt.getSignupRestrictions()),e.dispatch(Qt.getFeatureFlags());break;case Qt.LOGIN_FAIL:{const t=e.getState();if(n.loginType===Qt.LOGIN_TYPE_AUTOLOGIN){const n=t.app.mode;"welcome"===n?e.dispatch(Qt.enterWelcomeMode()):"login"===n?e.dispatch(Qt.enterLoginMode()):"signup"===n&&e.dispatch(Qt.enterSignupMode())}else{if("open-browser"===t.app.mode){const r=n.errorData;let o=Sn(r.errorCategory,r.errorCode,r.errorReference);"desktop_login_accounts"===r.errorCategory&&4===r.errorCode&&(o="signup"===t.experimentWebAuthReducer.operationUsed?I.get("desktop-auth.login.signup-time-out"):I.get("desktop-auth.login.login-time-out")),o?e.dispatch(Qt.enterWelcomeMode(o)):e.dispatch(Qt.enterWelcomeMode())}}break}case Qt.ENTER_SIGNUP_MODE:{const t=e.getState().signup.restrictions;t?!1===t.is_country_launched&&e.dispatch(Qt.countryNotLaunched()):e.dispatch(Qt.getSignupRestrictions());break}case Qt.SIGNUP_RESTRICTIONS_SUCCESS:!1===n.restrictions.is_country_launched&&e.dispatch(Qt.countryNotLaunched());break;case Qt.SIGNUP_FAILURE:(n.errors.email||n.errors.password||n.errors.displayname)&&e.dispatch(Qt.enterSignupModeStep0());break;case Qt.COUNTRY_NOT_LAUNCHED:e.dispatch(Qt.openSignupPage(!0));break;case Qt.REMOTE_CONFIG_PROPS:{const t=!_.getItem("lastUsername"),n=e.getState().app;t||!pn(n)&&!(e=>nn===an(e))(n)?e.dispatch(Qt.enterWelcomeMode()):e.dispatch(Qt.enterLoginMode())}}return r}),(e=>t=>n=>{const r=t(n);switch(n.type){case Qt.ENTER_LOGIN_MODE:yo(e,{page:"login"});break;case Qt.LOGIN_SUCCESS:n.loginType===Qt.LOGIN_TYPE_EMAIL?_o(e,{page:"login",type:"view",intent:"show-success-login-email"}):n.loginType===Qt.LOGIN_TYPE_FACEBOOK&&_o(e,{page:"login",type:"view",intent:"show-success-login-facebook"});break;case Qt.LOGIN_FAIL:n.loginType===Qt.LOGIN_TYPE_EMAIL?n.errorData&&3===n.errorData.errorCode&&_o(e,{page:"login",type:"view",intent:"show-error-invalid-credential"}):n.loginType===Qt.LOGIN_TYPE_FACEBOOK&&_o(e,{page:"login",type:"view",intent:"show-error-login-facebook"});break;case Qt.ENTER_SIGNUP_MODE:yo(e,{page:"signup"});break;case Qt.ENTER_SIGNUP_MODE_STEP_0:_o(e,{page:"signup",type:"view",intent:"show-signup-step-one"});break;case Qt.ENTER_SIGNUP_MODE_STEP_1:_o(e,{page:"signup",type:"view",intent:"show-signup-step-two"});break;case Qt.SIGNUP_SUCCESS:_o(e,{page:"signup",type:"view",intent:"show-success-signup-email"});break;case Qt.SIGNUP_FAILURE:_o(e,{page:"signup",type:"view",intent:"show-error-signup-email",item_id:n.errors&&Object.keys(n.errors).join("|")});break;case Qt.FACEBOOK_SIGNUP_SUCCESS:_o(e,{page:"signup",type:"view",intent:"show-success-authentication-facebook"});break;case Qt.FACEBOOK_SIGNUP_FAILURE:_o(e,{page:"signup",type:"view",intent:"show-error-authentication-facebook",item_id:n.errorData&&`${n.errorData.errorCode} - ${n.errorData.errorDescription}`});break;case Qt.ENTER_WELCOME_MODE:yo(e,{page:"login/welcome"});break;case Qt.ENTER_SETTINGS_MODE:yo(e,{page:"login/settings"});break;case Qt.INTERACTION:_o(e,{page:n.page,type:n.interactionType,intent:n.intent,item_id:n.itemId,action_hash:n.actionHash});break;case Qt.VALIDATE_FIELD_FAILURE:if(n.error){const t=n.field,r=n.error.code;let o=null,s=null;"valueMissing"===r?o=`show-error-empty-${t}`:["incomplete","invalid","typeMismatch","tooShort"].includes(r)?o=`show-error-format-${t}`:r===Nn&&"birthDate"===t?o="show-error-underage":(o=`show-error-${t}`,s=n.error.message||"");const i={page:"signup",type:"view",intent:o};s&&(i.item_id=s),null!==o&&_o(e,i)}}return r}),(()=>e=>t=>{const n=e(t);if(!t.redirectTo)return n;let r;switch(t.redirectTo){case"xpui":r="spotify:app:xpui";break;default:return n}return t.redirectDelay?setTimeout((()=>{So(r)}),t.redirectDelay):So(r),n}),(e=>t=>n=>{const r=e.getState().app;return pn(r)||(((e,t)=>e===Qt.ENTER_LOGIN_MODE&&ln(t))(n.type,r)&&e.dispatch(Qt.loginWithAccounts("",n.actionHash)),((e,t)=>e===Qt.ENTER_SIGNUP_MODE&&cn(t))(n.type,r)&&e.dispatch(Qt.signupWithAccounts("",n.actionHash))),t(n)})));Fo.subscribe((()=>{const e=Fo.getState();e.login.username&&localStorage.setItem(de,e.login.username),e.login.utmParameters&&localStorage.setItem(me,JSON.stringify(e.login.utmParameters))}));var Do=Fo,Lo=n(6454),Mo=n(7603);let Bo=null;(async function(){const e=window.__spotify.locale,t=await fetch(`i18n/${e}.json`).then((e=>e.json()));I.setLocale(e),I.setDictionary(t)})().then((async function(){const e=function(){const e=(0,Mo.qy)({providers:{endpoints:(0,Mo.uG)(),token:()=>null}});return e.connect(),e}();Bo=e;const t=lo(e);!function(e){io=e}(t);const n=function(e,t,n={},r=!0){let o={};try{var s;o=JSON.parse(null!==(s=localStorage.getItem("rcOverrides"))&&void 0!==s?s:"{}")}catch(e){}const i=new fo.ZP({clientId:"open3",installationId:__spotify.event_sender_installation_id_hex,storage:r?void 0:null,timeout:3e3,properties:ho(),propertyOverrides:o,transport:e,eventSender:t});return i.resolve(n),i}(e,t,{},!1);!function(e){bo=e}(n),n.activationPromise.then((()=>{Do.dispatch(Qt.remoteConfigProps(n.getPropertiesAsObject()))})).catch((()=>{Do.dispatch(Qt.remoteConfigProps({}))})),f.attach(),f.update(),d.attach();const r=document.location.search,o=new RegExp(`\\?param=error-code\\${encodeURIComponent("=")}([0-9]+)`,"i");window.addEventListener("message",(e=>{"critical-update-error"===e.data&&Do.dispatch(Qt.loginFailed({errorCode:e.data}))}));const s=r.match(o);if(r&&s){const e=+s[1];Do.dispatch(Qt.loginFailed({errorCode:e}))}let i="linux";var a;window.navigator.platform.startsWith("Mac")&&(i="mac"),window.navigator.platform.startsWith("Win")&&(i="windows"),document.body.classList.add(`body-container--${i}`),a=Vr,p().render(l().createElement(u.zj,null,l().createElement(g.zt,{store:Do},l().createElement(a,null))),document.getElementById("main")),Do.dispatch(Qt.startApp()),document.documentElement.setAttribute("dir",window.__spotify.localization_is_rtl?"rtl":"ltr");const c={[Lo.PLATFORM_UNKNOWN]:"body-container--unknown-os",[Lo.PLATFORM_MAC]:"body-container--mac",[Lo.PLATFORM_WINDOWS]:"body-container--windows"},m=(0,Lo.getPlatform)();document.body.classList.add(c[m])}))},6454:function(e,t,n){"use strict";n.r(t),n.d(t,{PLATFORM_UNKNOWN:function(){return r},PLATFORM_MAC:function(){return o},PLATFORM_WINDOWS:function(){return s},isMac:function(){return i},isWindows:function(){return a},getPlatform:function(){return l}});const r=Symbol("PLATFORM_UNKNOWN"),o=Symbol("PLATFORM_MAC"),s=Symbol("PLATFORM_WINDOWS");function i(){return window.navigator.platform.startsWith("Mac")}function a(){return window.navigator.platform.startsWith("Win")}function l(){return i()?o:a()?s:r}},1988:function(e,t){let n=!1;t.update=()=>{},t.attach=()=>{if(n)return;n=!0;const e=window.__spotify&&window.__spotify.locale;e&&document.documentElement.setAttribute("lang",e)},t.detach=()=>{n&&(n=!1,document.documentElement.removeAttribute("lang"))}},5023:function(e,t,n){const{getPlatform:r,PLATFORM_UNKNOWN:o,PLATFORM_MAC:s,PLATFORM_WINDOWS:i}=n(6454);let a=!1,l="always-visible",c=0;const p={[o]:"linux",[s]:"mac",[i]:"windows"};let u=p[o];function g(){const e=[...document.querySelectorAll("*")],t=[],n=["scroll","auto","overlay"];e.forEach((e=>{const r=window.getComputedStyle(e),o=r.overflowX,s=r.overflowY;n.includes(o)&&t.push({node:e,property:"overflow-x"}),n.includes(s)&&t.push({node:e,property:"overflow-y"})}));const r=document.createElement("style");r.innerHTML="\n    html::-webkit-scrollbar,\n    body::-webkit-scrollbar {\n      background-color: rgba(1, 2, 3, 0) !important;\n    }\n  ".trimRight();const o=`data-scrollbar-fix-${++c}-id`;let s=0;t.forEach((({node:e,property:t})=>{if(e!==document.body){const n=++s;e.setAttribute(o,n),r.innerHTML+=`\n    [${o}="${n}"] { ${t}: hidden !important; }`}})),document.head.appendChild(r),setTimeout((()=>{document.head.removeChild(r),t.forEach((({node:e})=>{e.removeAttribute(o)}))}),0)}t.performScrollBarFix=g,t.update=function(){},t.attach=function(){if(a)return;a=!0;const e=window.__spotify&&window.__spotify.scroller_style;l="overlay"===e?"overlay":"always-visible";const t=r();u=p[t],"always-visible"===l||"mac"!==u?(document.body.classList.remove("scrollbar-style-when-scrolling-mac"),document.body.classList.add(`scrollbar-style-visible-${u}`)):(document.body.classList.remove(`scrollbar-style-visible-${u}`),document.body.classList.add("scrollbar-style-when-scrolling-mac")),window.addEventListener("message",(e=>{"set_active"===e.data.name&&e.data.active&&g()}))},t.detach=function(){a&&(a=!1,c=0)}},5200:function(e,t,n){"use strict";n.d(t,{lX:function(){return _},q_:function(){return C},PP:function(){return O},ob:function(){return g},Ep:function(){return u}});var r=n(9603),o=n(1779),s=n(4231),i=n(1115);function a(e){return"/"===e.charAt(0)?e:`/${e}`}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function c(e,t){return function(e,t){return new RegExp(`^${t}(\\/|\\?|#|$)`,"i").test(e)}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function u(e){const t=e.pathname,n=e.search,r=e.hash;let o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:`?${n}`),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:`#${r}`),o}function g(e,t,n,s){let i;"string"==typeof e?(i=function(e){let t=e||"/",n="",r="";const o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));const s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(i=(0,r.Z)({},e),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search=`?${i.search}`):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash=`#${i.hash}`):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){}return n&&(i.key=n),s?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,o.Z)(i.pathname,s.pathname)):i.pathname=s.pathname:i.pathname||(i.pathname="/"),i}function d(){let e=null;let t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){const s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,o):o(!0):o(!1!==s)}else o(!0)},appendListener:function(e){let n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}const f=!("undefined"==typeof window||!window.document||!window.document.createElement);function m(e,t){t(window.confirm(e))}const h="popstate",b="hashchange";function y(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),f||(0,i.Z)(!1);const t=window.history,n=function(){const e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,l=s.forceRefresh,_=void 0!==l&&l,S=s.getUserConfirmation,w=void 0===S?m:S,E=s.keyLength,v=void 0===E?6:E,C=e.basename?p(a(e.basename)):"";function k(e){const t=e||{},n=t.key,r=t.state,o=window.location;let s=o.pathname+o.search+o.hash;return C&&(s=c(s,C)),g(s,r,n)}function O(){return Math.random().toString(36).substr(2,v)}const I=d();function P(e){(0,r.Z)(x,e),x.length=t.length,I.notifyListeners(x.location,x.action)}function T(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||A(k(e.state))}function U(){A(k(y()))}let N=!1;function A(e){if(N)N=!1,P();else{const t="POP";I.confirmTransitionTo(e,t,w,(function(n){n?P({action:t,location:e}):function(e){const t=x.location;let n=D.indexOf(t.key);-1===n&&(n=0);let r=D.indexOf(e.key);-1===r&&(r=0);const o=n-r;o&&(N=!0,M(o))}(e)}))}}const F=k(y());var D=[F.key];function L(e){return C+u(e)}function M(e){t.go(e)}let B=0;function R(e){B+=e,1===B&&1===e?(window.addEventListener(h,T),o&&window.addEventListener(b,U)):0===B&&(window.removeEventListener(h,T),o&&window.removeEventListener(b,U))}let j=!1;var x={length:t.length,action:"POP",location:F,createHref:L,push:function(e,r){const o="PUSH",s=g(e,r,O(),x.location);I.confirmTransitionTo(s,o,w,(function(e){if(!e)return;const r=L(s),i=s.key,a=s.state;if(n)if(t.pushState({key:i,state:a},null,r),_)window.location.href=r;else{const e=D.indexOf(x.location.key),t=D.slice(0,-1===e?0:e+1);t.push(s.key),D=t,P({action:o,location:s})}else window.location.href=r}))},replace:function(e,r){const o="REPLACE",s=g(e,r,O(),x.location);I.confirmTransitionTo(s,o,w,(function(e){if(!e)return;const r=L(s),i=s.key,a=s.state;if(n)if(t.replaceState({key:i,state:a},null,r),_)window.location.replace(r);else{const e=D.indexOf(x.location.key);-1!==e&&(D[e]=s.key),P({action:o,location:s})}else window.location.replace(r)}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);const t=I.setPrompt(e);return j||(R(1),j=!0),function(){return j&&(j=!1,R(-1)),t()}},listen:function(e){const t=I.appendListener(e);return R(1),function(){R(-1),t()}}};return x}const S="hashchange",w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:`!/${l(e)}`},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:a},slash:{encodePath:a,decodePath:a}};function E(){const e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function v(e){const t=window.location.href.indexOf("#");window.location.replace(`${window.location.href.slice(0,t>=0?t:0)}#${e}`)}function C(e){void 0===e&&(e={}),f||(0,i.Z)(!1);const t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,l=void 0===o?m:o,h=n.hashType,b=void 0===h?"slash":h,y=e.basename?p(a(e.basename)):"",_=w[b],C=_.encodePath,k=_.decodePath;function O(){let e=k(E());return y&&(e=c(e,y)),g(e)}const I=d();function P(e){(0,r.Z)(x,e),x.length=t.length,I.notifyListeners(x.location,x.action)}let T=!1,U=null;function N(){const e=E(),t=C(e);if(e!==t)v(t);else{const e=O(),t=x.location;if(!T&&(r=e,(n=t).pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&(0,s.Z)(n.state,r.state)))return;if(U===u(e))return;U=null,function(e){if(T)T=!1,P();else{const t="POP";I.confirmTransitionTo(e,t,l,(function(n){n?P({action:t,location:e}):function(e){const t=x.location;let n=L.lastIndexOf(u(t));-1===n&&(n=0);let r=L.lastIndexOf(u(e));-1===r&&(r=0);const o=n-r;o&&(T=!0,M(o))}(e)}))}}(e)}var n,r}const A=E(),F=C(A);A!==F&&v(F);const D=O();var L=[u(D)];function M(e){t.go(e)}let B=0;function R(e){B+=e,1===B&&1===e?window.addEventListener(S,N):0===B&&window.removeEventListener(S,N)}let j=!1;var x={length:t.length,action:"POP",location:D,createHref:function(e){return`#${C(y+u(e))}`},push:function(e,t){const n="PUSH",r=g(e,void 0,void 0,x.location);I.confirmTransitionTo(r,n,l,(function(e){if(!e)return;const t=u(r),o=C(y+t);if(E()!==o){U=t,function(e){window.location.hash=e}(o);const e=L.lastIndexOf(u(x.location)),s=L.slice(0,-1===e?0:e+1);s.push(t),L=s,P({action:n,location:r})}else P()}))},replace:function(e,t){const n="REPLACE",r=g(e,void 0,void 0,x.location);I.confirmTransitionTo(r,n,l,(function(e){if(!e)return;const t=u(r),o=C(y+t);E()!==o&&(U=t,v(o));const s=L.indexOf(u(x.location));-1!==s&&(L[s]=t),P({action:n,location:r})}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);const t=I.setPrompt(e);return j||(R(1),j=!0),function(){return j&&(j=!1,R(-1)),t()}},listen:function(e){const t=I.appendListener(e);return R(1),function(){R(-1),t()}}};return x}function k(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});const t=e,n=t.getUserConfirmation,o=t.initialEntries,s=void 0===o?["/"]:o,i=t.initialIndex,a=void 0===i?0:i,l=t.keyLength,c=void 0===l?6:l,p=d();function f(e){(0,r.Z)(S,e),S.length=S.entries.length,p.notifyListeners(S.location,S.action)}function m(){return Math.random().toString(36).substr(2,c)}const h=k(a,0,s.length-1),b=s.map((function(e){return g(e,void 0,"string"==typeof e?m():e.key||m())})),y=u;function _(e){const t=k(S.index+e,0,S.entries.length-1),r=S.entries[t];p.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var S={length:b.length,action:"POP",location:b[h],index:h,entries:b,createHref:y,push:function(e,t){const r="PUSH",o=g(e,t,m(),S.location);p.confirmTransitionTo(o,r,n,(function(e){if(!e)return;const t=S.index+1,n=S.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),f({action:r,location:o,index:t,entries:n})}))},replace:function(e,t){const r="REPLACE",o=g(e,t,m(),S.location);p.confirmTransitionTo(o,r,n,(function(e){e&&(S.entries[S.index]=o,f({action:r,location:o}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){const t=S.index+e;return t>=0&&t<S.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return S}},8100:function(e){e.exports={version:"1.0.0",properties:[{name:"desktopWebAuthenticationMode",description:"Enables signup and login by redirecting the user to the browser to complete the operation",enumSpec:{values:["none","loginAndSignupSingleButton","signupOnlySingleButton","loginOnlySingleButton"],default:"none"}}]}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}r.m=t,r.amdO={},e=[],r.O=function(t,n,o,s){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,s<i&&(i=s));a&&(e.splice(c--,1),t=o())}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,o,s]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={535:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,i=n[0],a=n[1],l=n[2],c=0;for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var p=l(r);for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[i[c]]=0;return r.O(p)},n=("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[569],(function(){return r(8312)}));o=r.O(o)}();
//# sourceMappingURL=login.js.map