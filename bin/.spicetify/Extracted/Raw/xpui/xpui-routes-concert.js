(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[288],{90160:function(e,t,a){"use strict";a.d(t,{Hr:function(){return r},qo:function(){return c},GJ:function(){return s},B$:function(){return i},pf:function(){return l},ak:function(){return o},B:function(){return m},X7:function(){return u}});var n=a(404);const r=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],c=e=>`spotify:artist:${e}`,s=e=>`spotify:app:artist:${e}`,i=(e,t,a)=>{var n,r;return{artists:[{uri:t,name:a}],images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}},l=e=>{var t,a;return{artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],name:e.name,uri:e.uri,year:null===(a=e.date)||void 0===a?void 0:a.year,type:e.type,sharingInfo:e.sharingInfo}},o=({uri:e,profile:{name:t},visuals:{avatarImage:a}})=>({uri:e,name:t,images:(null==a?void 0:a.sources)||[]}),m=({uri:e,name:t,description:a,images:{items:n},owner:r})=>({uri:e,name:t,owner:{display_name:(null==r?void 0:r.name)||t},description:a||"",images:n[0]&&n[0].sources?n[0].sources:[]}),u=({track:{uri:e,name:t,playcount:a,duration:{totalMilliseconds:r},contentRating:c,artists:{items:s},album:{coverArt:i,uri:l},playability:{playable:o}}},m)=>{var u;return{uri:e,contextUri:m,totalMilliseconds:r,name:t,contentRating:(null==c?void 0:c.label)||n.KS.None,isPlayable:o,playcount:parseInt(a||"0",10),artists:s.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:null!=i&&null!==(u=i.sources)&&void 0!==u&&u.length?i.sources[0].url:"",albumUri:l}}},56983:function(e,t,a){"use strict";a.d(t,{k:function(){return E}});var n=a(27378),r=a.n(n),c=a(62508),s=a(54220),i=a(99500),l=a(9807),o="concert-concertCard-ConcertCard",m="concert-concertCard-date",u="concert-concertCard-dateMonth",d="concert-concertCard-dateDay",g="concert-concertCard-metadata",f="concert-concertCard-title",b="concert-concertCard-location",p="concert-concertCard-fullDate",y="concert-concertCard-image",v=a(12622);const E=r().memo((e=>{const{entity:t,isVirtual:a}=e,{venue:{name:n,location:{name:E}}}=t,h=t.artists[0],_=(0,c.ij)(t),N=new Date(t.date.isoString);return r().createElement(s.r,{to:`/concert/${t.id}`,className:o},h.imageUri?r().createElement(i.Z,null,r().createElement("div",{"data-testid":"image-container",className:y,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${h.imageUri})`}})):null,r().createElement("time",{className:m,dateTime:t.date.isoString},r().createElement(l.Dy.h5,{variant:l.$e.minuetBold,className:u},(0,c.lJ)(N)),r().createElement(l.Dy.h1,{variant:l.$e.canon,className:d},N.getDate())),r().createElement("div",{className:g,dir:"auto"},r().createElement(l.Dy.h2,{className:p,variant:l.$e.minuetBold},(0,v.FO)(N),", ",(0,c.b8)(N)),r().createElement(l.Dy.h2,{variant:l.$e.cello,weight:l.vS.bold,className:f},_),r().createElement(l.Dy.h2,{className:b,variant:l.$e.mesto,"data-testid":"location-name"},a?n:`${n}, ${E}`)))}))},16445:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return be}});var n=a(27378),r=a.n(n),c=a(79308),s=a(48529),i=a(28979),l=a(58733),o=a(2398),m=a.n(o),u=a(35181),d=a(66027),g=a(90849),f=a(41805),b=a(63025),p=a(50878),y=a(96816),v=a(17220),E=a(54220),h=a(99500),_=a(9807),N="concert-concertArtistCard-concertArtistCard",k="concert-concertArtistCard-metadata",$="concert-concertArtistCard-name",D="concert-concertArtistCard-headliner",I="concert-concertArtistCard-headlinerText",T="concert-concertArtistCard-image";const U=r().memo((e=>{const{entity:t,headliner:a}=e,{imageUri:n,name:c,uri:s}=t;return r().createElement(E.r,{to:s,className:N},n?r().createElement(h.Z,null,r().createElement("div",{"data-testid":"image-container",className:T,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${n})`}})):null,r().createElement("div",{className:k},a&&r().createElement("div",{className:D},r().createElement(_.Dy.h4,{variant:_.$e.minuet,className:I,weight:_.vS.bold},u.ag.get("concert.label.headliner"))),r().createElement(_.Dy.h2,{variant:_.$e.alto,className:$},c)))}));var C={concertsHubCard:"concert-concertsHubCard-concertsHubCard",metadata:"concert-concertsHubCard-metadata",title:"concert-concertsHubCard-title",image:"concert-concertsHubCard-image"};const L=u.ag.get("concerts_browse_more"),w=r().memo((()=>r().createElement(E.r,{to:"spotify:concerts",className:C.concertsHubCard},r().createElement(h.Z,null,r().createElement("div",{className:C.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),r().createElement("div",{className:C.metadata},r().createElement(_.Dy.h2,{variant:_.$e.canon,className:C.name},L)))));var P=a(62508),A="concert-concert-concertCalendarBackground",M="concert-concert-concertCalendarDate",O="concert-concert-concertContainer",S="concert-concert-header",Z="concert-concert-concertEntityBody",x="concert-concert-concertEntityPartnerAttribution",B="concert-concert-metadataContainer",Y="concert-concert-headerButtons",G="concert-concert-headerButtonLink",J="concert-concert-moreButton",F="concert-concert-sectionHeader",H="concert-concert-topBarContent",q="concert-concert-topBarButton",R="concert-concert-sectionContainer",j="concert-concert-concertDate",z=a(58558),W=a(27272);a(15033),a(99187);let K;!function(e){e[e.SIMPLE=0]="SIMPLE",e[e.FULL=1]="FULL"}(K||(K={}));a(30812);var V=a(36147),X=a(90160),Q=a(56983),ee=a(88319),te=a(88886),ae=a(34761),ne=a(64399),re=a(19421);const ce=r().memo((({uri:e})=>r().createElement(p.ZP,{value:"concert"},r().createElement(ae.v,null,r().createElement(re.q,null,r().createElement(ne.Jx,{uri:e,displayText:u.ag.get("context-menu.copy-concert-link")}),r().createElement(ne.W2,{uri:e})),r().createElement(ne.h$,{uri:e})))));var se=a(86268);const ie=(e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,type:V.n.ALBUM}),le=e=>{const t=new Date(Date.parse(e.date));return r().createElement("div",{className:A},r().createElement(_.Dy.h3,{variant:_.$e.canon,className:M},(0,P.NL)(t)))},oe=e=>{const{clickThrus:t,ticketing:a,date:n,venue:c,location:s,clickThruUrl:i,id:l,category:o,lat:m,lon:d,ticketAvailabilityTranslated:g}=e,f=new Date(Date.parse(n)),b=`spotify:concert:${l}`,p="ONLINE"===o,y=(0,ee.o)();let v="";if(!t||!t.length)return null;const h=t[0].partnerDisplayName;v="Songkick"===h?u.ag.get("concert.header.partner_songkick_attribution",h):a&&a[0]&&a[0].minPrice?u.ag.get("concert.header.partner_price_attribution",a[0].minPrice,h):u.ag.get("concert.header.partner_attribution",h),p&&(v=u.ag.get("concert_available_through",h));const N=p?u.ag.get("concert_find_virtual_event"):u.ag.get("concert.button.see_tickets");if((0,P.O1)(f))return r().createElement("div",{className:B},r().createElement(_.Dy.h3,{variant:_.$e.canon},u.ag.get("concert_event_ended")),r().createElement(_.Dy.span,null,r().createElement(E.Z,{to:"spotify:concerts"},u.ag.get("concert_past_message"))));return r().createElement("div",{className:B},r().createElement(_.Dy.h3,{variant:_.$e.canon},(()=>{if(p)return r().createElement(_.Dy.h3,{variant:_.$e.canon},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${s}`)}&ll=${m},${d}`;return r().createElement(E.Z,{to:e,target:"_blank"},r().createElement(_.Dy.h3,{variant:_.$e.canon},`${c}, ${s}`))})()),r().createElement(_.Dy.h3,{variant:_.$e.mesto,className:j},(0,P.Ms)(f)," â€¢ ",(0,P.b8)(f)),r().createElement(_.Dy.h3,{className:x,variant:_.$e.mesto},v),g&&g.length>0&&r().createElement(_.Dy.h3,{className:x,variant:_.$e.mesto},g),r().createElement("div",{className:Y},r().createElement(E.Z,{draggable:!1,className:G,to:i,target:"_blank"},r().createElement(z.Y,{version:"secondary",onClick:function(){y({targetUri:b,intent:"find-concert",type:"click"})}},N)),r().createElement(te.y,{menu:r().createElement(ce,{uri:b})},r().createElement(W.z,{size:32,className:J}))))},me=e=>{const{albums:t,artists:a}=e,n=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return r().createElement("div",{className:F},a.map(((e,t)=>{const a=n[e.name]||[],c=a.length+2;let s=a.map(((t,a)=>r().createElement(v.r,{key:a,entity:ie(t,e.uri)})));return s=[null,r().createElement(U,{entity:e,headliner:0===t})].concat(s),r().createElement(p.ZP,{value:"headered-grid",index:t},r().createElement(y.P,{title:0===t?u.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,X.GJ)(e.id)}:discography`,seeAllLabel:u.ag.get("artist-page.show-discography")},s))})))},ue=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>r().createElement(Q.k,{entity:e})));return a.unshift(r().createElement(w,null)),r().createElement("div",{className:R},r().createElement(p.ZP,{value:"headered-grid"},r().createElement(y.P,{title:u.ag.get("concerts_more_events"),total:t.length+1},a)))},de=e=>{const{concert:t,upcomingConcerts:a,artists:n,albums:c,color:s,headerImageUri:i,ticketAvailabilityTranslated:l}=e.concert,o=[{url:i,width:100,height:100}];(0,se.Y)(s);const p=(0,ee.o)();const y="ONLINE"===t.category?u.ag.get("concert_find_virtual_event"):u.ag.get("concert.button.see_tickets");return r().createElement("section",{className:S},r().createElement(d.gF,{backgroundImages:o,backgroundColor:s},r().createElement(d.sP,null,r().createElement(d.T0,null,r().createElement(le,t)),r().createElement(d.xd,null,(0,P.Yl)(t))),r().createElement(g.W,null,r().createElement("div",{className:H},r().createElement(f.i,{text:(0,P.Yl)(t)}),r().createElement(E.Z,{draggable:!1,className:G,to:t.clickThruUrl,target:"_blank"},r().createElement(z.Y,{version:"secondary",className:q,onClick:function(){p({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},y))))),r().createElement("div",{className:O},r().createElement(b.I,{backgroundColor:s}),r().createElement("div",{className:Z},r().createElement(oe,m()({},t,{ticketAvailabilityTranslated:l})),r().createElement(me,{artists:n,albums:c}),r().createElement(ue,{upcomingConcerts:a}))))};var ge=r().memo(de),fe=a(7487);var be=r().memo((()=>{const{concertId:e}=(0,s.UO)(),t=(0,c.I0)(),a=`spotify:concert:${e}`,o=(0,c.v9)((e=>(0,l.G6)(a,e)));return(0,n.useEffect)((()=>{t((0,i.l$)(e))}),[t,e]),o?r().createElement(ge,{concert:o}):r().createElement(fe.h,{errorMessage:u.ag.get("concert.error.concert_not_found_title")})}))},62508:function(e,t,a){"use strict";a.d(t,{Ms:function(){return r},b8:function(){return c},lJ:function(){return s},NL:function(){return i},O1:function(){return l},Yl:function(){return u},ij:function(){return d}});var n=a(35181);const r=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),s=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),i=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),l=e=>e<new Date,o={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},m=(e,t)=>{const a=o[t],n=(e=>{try{return e.festival&&e.title?{title:e.title}:{artists:e.artists.map((e=>e.name||e.profile.name))}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>m(e,"row"),d=e=>m(e,"entity")},36147:function(e,t,a){"use strict";a.d(t,{n:function(){return n}});const n={ALBUM:"ALBUM",SINGLE:"SINGLE",EP:"EP",COMPILATION:"COMPILATION"}},30812:function(){},15033:function(){},10548:function(){},49053:function(){},99187:function(e,t,a){"use strict";var n=a(10548);a.o(n,"albumType")&&a.d(t,{albumType:function(){return n.albumType}});var r=a(82417);a.o(r,"albumType")&&a.d(t,{albumType:function(){return r.albumType}});var c=a(65974);a.o(c,"albumType")&&a.d(t,{albumType:function(){return c.albumType}});var s=a(49053);a.o(s,"albumType")&&a.d(t,{albumType:function(){return s.albumType}})},82417:function(){},65974:function(){}}]);
//# sourceMappingURL=xpui-routes-concert.js.map