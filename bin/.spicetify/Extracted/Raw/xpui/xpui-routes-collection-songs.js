(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[553],{19717:function(e,t,a){"use strict";a.d(t,{q:function(){return D},o:function(){return _}});var n=a(27378),l=a.n(n),s=a(95005),c=a(93306),r=a(885),o=a(21380),i=a(60042),d=a.n(i),u="x-downloadButton-customSize",m="x-downloadButton-DownloadButton",f="x-downloadButton-button",g="x-downloadButton-active",b="x-downloadButton-progressWrapper",p="x-downloadButton-progress",E="x-downloadButton-NotificationBubble",y=a(27153),C=a(35181),h=a(57661),w=a(3108);var k=a(69408),v=a(86131);let D;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(D||(D={}));const _=({uri:e,isFollowing:t,onFollow:a,size:i=D.sm,className:_})=>{const x={"--size":`${i}px`},{useDownloading:S,useDownloadCapability:T}=(0,n.useContext)(r.I),[R,N]=(0,n.useState)(!1),[I,A]=T(),[L,O]=(0,n.useState)(!1),{currentAvailability:P,progress:U,beginDownload:B,clearDownload:M}=S(e);((e,t)=>{const a=(0,w.r)(),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===o.V8.DOWNLOADING&&!1===l.current&&(l.current=!0,a.say(C.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const s=(0,h.D)(e);(0,n.useEffect)((()=>{s===o.V8.DOWNLOADING&&e===o.V8.YES&&(l.current=!1,a.say(C.ag.get("download.complete")))}),[a,s,e])})(P,U);const F=()=>{!1===t?(a(),N(!0)):B()};return(0,n.useEffect)((()=>{!0===R&&!0===t&&(B(),N(!1))}),[t,R,B]),I===o.PQ.NO_DOWNLOAD_CAPABILITY?null:A===o.v$.DOWNLOADING_NOT_ALLOWED?l().createElement("div",{className:m},l().createElement(v.u,{label:C.ag.get("download.download")},l().createElement("button",{className:d()(f,_),role:"switch",onClick:()=>{O(!0)},"aria-label":C.ag.get("download.download"),"aria-checked":!1},l().createElement(s.a,{iconSize:i}))),L&&l().createElement("div",{className:E},l().createElement(k.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{O(!1)}},C.ag.get("download.upsell")))):P===o.V8.YES?l().createElement(v.u,{label:C.ag.get("download.remove")},l().createElement("button",{className:d()(f,_,g),role:"switch",onClick:M,"aria-label":C.ag.get("download.remove"),"aria-checked":!0},l().createElement(c.C,{iconSize:i}))):P===o.V8.NO?l().createElement(v.u,{label:C.ag.get("download.download")},l().createElement("button",{className:d()(f,_),role:"switch",onClick:F,"aria-label":C.ag.get("download.download"),"aria-checked":!1},l().createElement(s.a,{iconSize:i}))):l().createElement("div",{className:d()(b,_),role:"switch","aria-checked":!0},l().createElement(v.u,{label:C.ag.get("download.cancel")},l().createElement("button",{style:x,className:d()(f,u,_),onClick:M,"aria-label":C.ag.get("download.cancel")})),l().createElement("span",{style:x,className:d()(p,u)},l().createElement(y.e,{"aria-valuetext":C.ag.get("progress.downloading-tracks"),percentage:U.percentage,size:i})))}},39848:function(e,t,a){"use strict";a.r(t),a.d(t,{LIKED_SONGS_IMAGE_URL:function(){return G},LikedSongs:function(){return V},LikedSongsContainer:function(){return Z},default:function(){return W},likedSongsImage:function(){return K},likedSongscolumns:function(){return z}});var n=a(66917),l=a.n(n),s=a(27378),c=a.n(s),r=a(79308),o=a(48529),i=a(8621),d=a(34159),u=a(35181),m=a(35075),f=a(57660),g=a(8656),b=a(7444),p=a(83509),E=a(79032),y=a(1391),C=a(19717),h=a(2028),w=a(66027),k=a(79378),v=a(90849),D=a(41805),_=a(87405);const x=()=>c().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 18.538L48 16.806L31.478 7.26801V42.327C29.826 40.299 27.313 39 24.5 39C19.538 39 15.5 43.038 15.5 48C15.5 52.963 19.538 57 24.5 57C29.27 57 33.175 53.266 33.471 48.569L33.478 48.433C33.485 48.288 33.485 47.711 33.478 47.566V10.732L47 18.538ZM31.478 48.434C31.252 52.091 28.213 55 24.5 55C20.64 55 17.5 51.86 17.5 48C17.5 44.141 20.64 41 24.5 41C28.213 41 31.252 43.909 31.478 47.566V48.434Z",fill:"currentColor"}));var S=a(7487),T=a(16294),R=a(51870),N=a(69231),I=a(26425),A=a(18499),L=a(83553),O=a(82229),P=a(90700),U=a(11847),B=a(67006),M=a(70685),F=a(45199),Q=a(54779);const z=[k.QD.INDEX,k.QD.TITLE,k.QD.ALBUM,k.QD.ADDED_AT,k.QD.DURATION],V=({metadata:e,canFilter:t,canSort:a})=>{const{uri:n,name:l,images:m,totalLength:f,owner:g}=e,{filterBoxApiRef:y,filterBoxDomRef:k,tracklistDomRef:V,handleKeyDown:G}=(0,E.Q)(),K=(0,p.k)()&&f>0,Z=f>0,W=(0,s.useMemo)((()=>({id:g.username,uri:g.uri,name:g.username,displayName:g.displayName||void 0,images:g.images||[]})),[g]),Y=(0,r.I0)(),$=(0,O.Y5)("#5038a0"),{filter:q}=(0,s.useContext)(A.fo),{sortState:H}=(0,s.useContext)(L.Gb),X=(0,o.k6)(),j="POP"!==X.action?new URLSearchParams(X.location.search).get("uid"):null;(0,s.useEffect)((()=>{Y((0,b.Dk)(u.ag.get("playlist.page-title",l)))}),[Y,l]);const{isPlaying:J,togglePlay:ee,usePlayContextItem:te}=(0,M.n)(function(e,t,a){const n={uri:e};return(0,F.R4)(n,t),(0,Q.I)(n,a),n}(n,(0,B.w)(H),(0,U.$u)(q)),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),ae=()=>ee();return c().createElement("section",{role:"presentation",className:R.Z.playlist,"data-testid":"playlist-page",onKeyDown:G},c().createElement(w.gF,{backgroundColor:$},c().createElement(v.W,null,c().createElement(I.$,{size:d.qE.sm,onClick:ae,isPlaying:J,uri:n}),c().createElement(D.i,{text:l})),c().createElement("div",{className:R.Z.playlistImageContainer},c().createElement(N.T,{canEdit:!1,name:l,images:m,onClick:()=>{},placeholderType:"playlist"})),c().createElement(w.sP,null,c().createElement(w.dy,{small:!0,uppercase:!0},u.ag.get("playlist")),c().createElement(w.xd,{canEdit:!1,onClick:()=>{},className:R.Z.playlistTitle},l),c().createElement(w.QS,{creators:[W],totalTracks:f}))),c().createElement(i.o,{backgroundColor:$},c().createElement(i.F,null,Z?c().createElement(I.$,{onClick:ae,isPlaying:J,size:d.qE.lg,uri:n}):null,K?c().createElement(C.o,{uri:n,isFollowing:!0,onFollow:()=>{},size:C.q.md}):null,t&&a&&c().createElement("div",{className:R.Z.searchBoxContainer},c().createElement(_.K,{placeholder:u.ag.get("playlist.search_in_playlist"),filterBoxApiRef:y,outerRef:k}),c().createElement(P.c,{columns:L.P0})))),c().createElement("div",{className:"contentSpacing"},f>0?c().createElement(s.Suspense,{fallback:c().createElement(S.h,{errorMessage:u.ag.get("error.request-collection-tracks-failure")})},c().createElement(T.p,{nrTracks:f,columns:z,collectionUri:n,scrollToUid:j,usePlayContextItem:te,outerDomRef:V})):c().createElement(h.u,{message:u.ag.get("collection.empty-page.songs-subtitle"),title:u.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:u.ag.get("collection.empty-page.songs-cta"),renderInline:!0},c().createElement(x,null))))},G="https://t.scdn.co/images/3099b3803ad9496896c43f22fe9be8c4.png",K={url:G,width:300,height:300};const Z=c().memo((()=>{const e=function(){const e=(0,m.MY)({offset:0,limit:1}),{user:t}=(0,r.v9)(y.Gg);return null===e||null===t?null:{uri:l().collectionURI(t.id).toURI(),name:u.ag.get("sidebar.liked_songs"),images:[K],totalLength:null==e?void 0:e.totalLength,owner:(0,g.V3)(t)}}(),t=(0,s.useContext)(f.H).getCapabilities();return e?c().createElement(L.kz,{uri:e.uri},c().createElement(A.hz,{uri:e.uri},c().createElement(V,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):c().createElement(S.h,{errorMessage:u.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})}));var W=Z},69231:function(e,t,a){"use strict";a.d(t,{T:function(){return u}});var n=a(27378),l=a.n(n),s=a(22117),c=a(66027),r=a(19958),o=a(58324),i="profile-editImage-imageContainer",d="profile-editImage-editImageButtonContainer";const u=function({onClick:e,name:t,images:a,canEdit:n,placeholderType:u,shape:m=c.Kc.SQUARE,dragUri:f=""}){const[g,b]=(0,c.RH)(a),p=(0,s.VO)(g,b)===s.KO.loaded,E=(0,o.O1)([f],t);return l().createElement("div",{className:i,"data-testid":`${u}-image`,draggable:!!f,onDragStart:E},l().createElement(c.Oe,{loading:"eager",name:t,images:a,placeholderType:u,shape:m}),n&&l().createElement("div",{className:d},l().createElement(r.F,{overlay:p,onClick:e,rounded:m===c.Kc.CIRCLE})))}},16294:function(e,t,a){"use strict";a.d(t,{p:function(){return y}});var n=a(27378),l=a.n(n),s=a(79378),c=a(50878),r=a(40299),o=a(35181),i=a(11847),d=a(67006),u=a(18499),m=a(83553),f=a(57660),g=a(44641),b=a(90604);const p=new Set(m.P0),E=new Set([]),y=l().memo((({nrTracks:e,collectionUri:t,columns:a,uri:y,sortable:C=!0,scrollToUid:h,usePlayContextItem:w,outerDomRef:k})=>{const v=(0,n.useContext)(f.H),D=(0,n.useRef)(null),[_,x]=(0,n.useState)(e),{filter:S}=(0,n.useContext)(u.fo),T=(0,n.useRef)((()=>{})),[R,N]=(0,n.useState)([]),{sortState:I,setSortState:A}=(0,n.useContext)(m.Gb);(0,b.T)("liked-songs");const L=(0,n.useCallback)((e=>{A((0,i.VK)(e,I))}),[A,I]);(0,n.useEffect)((()=>{D.current&&D.current.update()}),[I,S]),(0,n.useEffect)((()=>{D.current&&""===S&&D.current.scrollToFirstSelected()}),[S,_]),(0,n.useEffect)((()=>{x(e)}),[e]),(0,n.useEffect)((()=>{D.current&&h&&D.current.scrollToUID(h)}),[h]);const O=(0,n.useCallback)((e=>{const t=e.map((e=>e.uri));T.current(),null==v||v.remove(...t)}),[v]),P=(0,n.useCallback)(((e,t)=>{T.current=t,e.length>1?N(e):O(e)}),[O]),U=(0,n.useCallback)((async(e,t)=>{const a=await(null==v?void 0:v.getTracks({offset:e,limit:t,uri:y,sort:(0,d.w)(I),filter:(0,i.$u)(S)})),n=null==a?void 0:a.totalLength,l=(null==a?void 0:a.items)||[];return"number"==typeof n&&n!==_&&x(n),l}),[S,v,_,I,y]),B=(0,n.useCallback)(((e,a)=>{var n;const c=(0,r.X)(null===(n=e.album)||void 0===n?void 0:n.images,{desiredSize:40,desiredLabel:"small"});return l().createElement(s.dx,{key:a+e.uri,index:a,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:null,dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==c?void 0:c.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:w,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,w]);return l().createElement(l().Fragment,null,l().createElement(c.ZP,{value:"liked-songs-tracklist"},l().createElement(s.Pv,{ariaLabel:o.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:a,sortableColumns:null!=v&&v.getCapabilities().canSort&&C?p:E,sortState:I,onSort:L,renderRow:B,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:P,nrTracks:_,fetchTracks:U,limit:50,canFetchAllTracks:null==v?void 0:v.getCapabilities().canFetchAllTracks,outerRef:D,outerDomRef:k})),l().createElement(g.h,{title:o.ag.get("remove_from_your_liked_songs"),isOpen:R.length>0,tracks:R,onClose:e=>{e.stopPropagation(),N([])},onRemove:O}))}))},90700:function(e,t,a){"use strict";a.d(t,{c:function(){return u}});var n=a(27378),l=a.n(n),s=a(79378),c=a(83553),r=a(11847),o=a(6953),i=a(2315);function d(e){return!!e}const u=({columns:e})=>{const t=[...e];t.splice(2,0,s.QD.ARTIST);const{sortState:a,setSortState:u}=(0,n.useContext)(c.Gb),m=function(e){return null===e.column?i.mE[s.QD.INDEX]:(0,r.cB)(e.column,e.order)?i.mE[s.QD.ARTIST]:i.mE[e.column]}(a),f=(0,n.useCallback)((e=>{u((0,i.WQ)(e,a.column,a.order))}),[u,a.column,a.order]),g=(0,n.useCallback)((()=>null!==a.column),[a.column]),b=t.map((e=>i.mE[e])).filter(d);return l().createElement(o.A,{options:b,onSelect:f,selected:m,isSelectionChanged:g,sortOrder:a.order})}},44641:function(e,t,a){"use strict";a.d(t,{h:function(){return g}});var n=a(27378),l=a.n(n),s=a(35181),c="artist-removeTracksDialog-container",r="artist-removeTracksDialog-title",o="artist-removeTracksDialog-description",i="artist-removeTracksDialog-buttonContainer",d="artist-removeTracksDialog-cancelButton",u=a(91188),m=a(58558),f=a(9807);const g=l().memo((({onClose:e,onRemove:t,isOpen:a,tracks:g,title:b})=>{const p=(0,n.useCallback)((a=>{t(g),e(a)}),[t,e,g]);return l().createElement(u.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:b,isOpen:a},l().createElement("div",{className:c},l().createElement(f.Dy,{as:"h2",variant:f.Dy.cello,className:r},b),l().createElement(f.Dy,{as:"p",variant:f.Dy.mesto,className:o},s.ag.get("playlist.remove_multiple_description")),l().createElement("div",{className:i},l().createElement(m.Y,{className:d,version:"tertiary",onClick:e},s.ag.get("playlist.delete-cancel")),l().createElement(m.Y,{version:"primary",onClick:p},s.ag.get("remove")))))}))},79032:function(e,t,a){"use strict";a.d(t,{Q:function(){return l}});var n=a(27378);const l=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),a=(0,n.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:a,handleKeyDown:n=>{var l,s,c;"Escape"===n.key&&((null!==(l=t.current)&&void 0!==l&&l.contains(n.target)||null!==(s=a.current)&&void 0!==s&&s.contains(n.target))&&(null===(c=e.current)||void 0===c||c.clearFilter()))}}}},67006:function(e,t,a){"use strict";a.d(t,{w:function(){return r}});var n=a(11847),l=a(80506),s=a(45875);const c={[l.bD.ADDED_AT]:s._1.ADDED_AT,[l.bD.ADDED_BY]:null,[l.bD.ALBUM]:s._1.ALBUM_NAME,[l.bD.ARTIST]:s._1.ARTIST_NAME,[l.bD.DURATION]:null,[l.bD.TITLE]:s._1.NAME},r=e=>{const t=(0,n._j)(e);if(!t)return;const a=c[t.field],l=t.order;return a&&l?{field:a,order:l}:void 0}},51870:function(e,t){"use strict";t.Z={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"playlist-playlist-playlist",searchBoxContainer:"playlist-playlist-searchBoxContainer",recommendedTrackList:"playlist-playlist-recommendedTrackList",playlistContent:"playlist-playlist-playlistContent",playlistDescription:"playlist-playlist-playlistDescription",top:"playlist-playlist-top",header:"playlist-playlist-header",subtitle:"playlist-playlist-subtitle",refreshButton:"playlist-playlist-refreshButton",playlistImageContainer:"playlist-playlist-playlistImageContainer",playlistInlineCurationSection:"playlist-playlist-playlistInlineCurationSection",playlistInlineCurationWrapper:"playlist-playlist-playlistInlineCurationWrapper",playlistInlineCurationTitle:"playlist-playlist-playlistInlineCurationTitle",playlistInlineCurationCloseButton:"playlist-playlist-playlistInlineCurationCloseButton",playlistInlineCurationBackButton:"playlist-playlist-playlistInlineCurationBackButton",artistResultListTitle:"playlist-playlist-artistResultListTitle",seeMore:"playlist-playlist-seeMore",emptyStateContainer:"playlist-playlist-emptyStateContainer",searchResultListContainer:"playlist-playlist-searchResultListContainer",emptySearchTermContainer:"playlist-playlist-emptySearchTermContainer",icon:"playlist-playlist-icon"}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map