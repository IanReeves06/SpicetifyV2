(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[719],{19717:function(e,a,t){"use strict";t.d(a,{q:function(){return h},o:function(){return O}});var c=t(27378),n=t.n(c),s=t(95005),r=t(93306),l=t(885),o=t(21380),i=t(60042),d=t.n(i),E="x-downloadButton-customSize",u="x-downloadButton-DownloadButton",f="x-downloadButton-button",m="x-downloadButton-active",S="x-downloadButton-progressWrapper",_="x-downloadButton-progress",I="x-downloadButton-NotificationBubble",b=t(27153),Z=t(35181),g=t(57661),p=t(3108);var w=t(69408),N=t(86131);let h;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(h||(h={}));const O=({uri:e,isFollowing:a,onFollow:t,size:i=h.sm,className:O})=>{const v={"--size":`${i}px`},{useDownloading:y,useDownloadCapability:L}=(0,c.useContext)(l.I),[C,D]=(0,c.useState)(!1),[R,A]=L(),[M,P]=(0,c.useState)(!1),{currentAvailability:k,progress:x,beginDownload:$,clearDownload:z}=y(e);((e,a)=>{const t=(0,p.r)(),n=(0,c.useRef)(!1);(0,c.useEffect)((()=>{e===o.V8.DOWNLOADING&&!1===n.current&&(n.current=!0,t.say(Z.ag.get("download.downloading",a.totalItems)))}),[t,e,a]);const s=(0,g.D)(e);(0,c.useEffect)((()=>{s===o.V8.DOWNLOADING&&e===o.V8.YES&&(n.current=!1,t.say(Z.ag.get("download.complete")))}),[t,s,e])})(k,x);const j=()=>{!1===a?(t(),D(!0)):$()};return(0,c.useEffect)((()=>{!0===C&&!0===a&&($(),D(!1))}),[a,C,$]),R===o.PQ.NO_DOWNLOAD_CAPABILITY?null:A===o.v$.DOWNLOADING_NOT_ALLOWED?n().createElement("div",{className:u},n().createElement(N.u,{label:Z.ag.get("download.download")},n().createElement("button",{className:d()(f,O),role:"switch",onClick:()=>{P(!0)},"aria-label":Z.ag.get("download.download"),"aria-checked":!1},n().createElement(s.a,{iconSize:i}))),M&&n().createElement("div",{className:I},n().createElement(w.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{P(!1)}},Z.ag.get("download.upsell")))):k===o.V8.YES?n().createElement(N.u,{label:Z.ag.get("download.remove")},n().createElement("button",{className:d()(f,O,m),role:"switch",onClick:z,"aria-label":Z.ag.get("download.remove"),"aria-checked":!0},n().createElement(r.C,{iconSize:i}))):k===o.V8.NO?n().createElement(N.u,{label:Z.ag.get("download.download")},n().createElement("button",{className:d()(f,O),role:"switch",onClick:j,"aria-label":Z.ag.get("download.download"),"aria-checked":!1},n().createElement(s.a,{iconSize:i}))):n().createElement("div",{className:d()(S,O),role:"switch","aria-checked":!0},n().createElement(N.u,{label:Z.ag.get("download.cancel")},n().createElement("button",{style:v,className:d()(f,E,O),onClick:z,"aria-label":Z.ag.get("download.cancel")})),n().createElement("span",{style:v,className:d()(_,E)},n().createElement(b.e,{"aria-valuetext":Z.ag.get("progress.downloading-tracks"),percentage:x.percentage,size:i})))}},34834:function(e,a,t){"use strict";t.d(a,{p:function(){return S},q:function(){return r.q}});var c=t(27378),n=t.n(c),s=t(79308),r=t(19717),l=t(88319),o=t(18010),i=t(26894),d=t(89614),E=t(17922),u=t(54798);const f=n().memo((({uri:e,showUri:a,size:t=r.q.md,className:i})=>{const d=(0,s.v9)((e=>e.entities.follows[a])),E=(0,s.I0)(),u=(0,l.o)(),f=(0,c.useCallback)((()=>{u({targetUri:e,intent:d?"unsave":"save",type:"click"}),E(d?(0,o.Bn)(a):(0,o.PJ)(a))}),[E,u,e,a,d]);return n().createElement(r.o,{className:i,isFollowing:d,onFollow:f,uri:e,size:t})})),m=n().memo((({uri:e,size:a=r.q.md,className:t})=>{const[o,E]=(0,d.Z)(e),u=(0,s.I0)(),f=(0,l.o)(),m=(0,c.useCallback)((()=>{f({targetUri:e,intent:o?"remove-from-library":"add-to-library",type:"click"}),E(!o),u(o?(0,i.SS)():(0,i.kK)())}),[f,e,o,E,u]);return n().createElement(r.o,{className:t,isFollowing:o,onFollow:m,uri:e,size:a})})),S=n().memo((e=>n().createElement(E.F,{property:u.eh,renderOldExperience:()=>n().createElement(f,e),renderNewExperience:()=>n().createElement(m,e)})))},72136:function(e,a,t){"use strict";t.d(a,{O:function(){return h},K:function(){return N}});var c=t(65526),n=t.n(c),s=t(27378),r=t.n(s),l=t(60042),o=t.n(l),i=t(95753),d=t(21311),E={xsmall:"x-entityImage-xsmall",small:"x-entityImage-small",medium:"x-entityImage-medium",large:"x-entityImage-large",circle:"x-entityImage-circle",image:"x-entityImage-image",imageContainer:"x-entityImage-imageContainer",imagePlaceholder:"x-entityImage-imagePlaceholder"},u="x-entityImagePlaceholder-imagePlaceholder",f="x-entityImagePlaceholder-icon",m=t(64619),S=t(60291),_=t(61606),I=t(199),b=t(13262),Z=t(44336);const g=({title:e,type:a,className:t})=>{const c=(e=>{switch(e){case m.p.ALBUM:return r().createElement(S.c,{className:f});case m.p.ARTIST:return r().createElement(_.a,{className:f});case m.p.SHOW:case m.p.EPISODE:return r().createElement(I.J,{className:f});case m.p.USER:return r().createElement(b.f,{className:f});case m.p.PLAYLIST:default:return r().createElement(Z.U,{className:f})}})(a);return r().createElement("div",{"aria-label":e,className:o()(u,t)},c)};function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);a&&(c=c.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,c)}return t}function w(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){n()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}let N;!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(N||(N={}));const h=r().memo((({type:e,title:a,images:t=[],shape:c=N.SQUARE,size:n=d.m$.SIZE_56,className:s,onContextMenu:l=(()=>{}),onTouchStart:u=(()=>{}),onTouchEnd:f=(()=>{})})=>{const m=function(e=[]){const a=e.filter((e=>Boolean(e.width))),t=a.filter((e=>e.url&&e.width&&e.width>=d.eM[d.m$.SIZE_56])).sort(((e,a)=>e.width-a.width));return t.length?t:a}(t),S=m.length>0?m[0].url:"",_=m.map((({url:e,width:a})=>`${e} ${a/2}w, ${e} ${a}w`)).join(", "),I=()=>({[E.xsmall]:d.pj.includes(n),[E.small]:d.wL.includes(n),[E.medium]:d.VZ.includes(n),[E.large]:d.B_.includes(n)});return r().createElement("div",{className:o()(E.imageContainer,s),onContextMenu:l,onTouchStart:u,onTouchEnd:f,style:{width:`${d.eM[n]}px`,height:`${d.eM[n]}px`}},r().createElement(i.E,{loading:"lazy",src:S,alt:a,ariaHidden:!0,className:o()(E.image,w({[E.roundedCorners]:c===N.ROUNDED_CORNERS,[E.circle]:c===N.CIRCLE},I())),srcSet:_||void 0,testid:"entity-image"},r().createElement(g,{title:a,type:e,className:o()(w({[E.roundedCorners]:c===N.ROUNDED_CORNERS,[E.circle]:c===N.CIRCLE},I()))})))}))},21311:function(e,a,t){"use strict";let c;t.d(a,{m$:function(){return c},eM:function(){return n},pj:function(){return s},wL:function(){return r},VZ:function(){return l},B_:function(){return o}}),function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(c||(c={}));const n={[c.SIZE_48]:48,[c.SIZE_56]:56,[c.SIZE_64]:64,[c.SIZE_72]:72,[c.SIZE_80]:80,[c.SIZE_96]:96,[c.SIZE_104]:104,[c.SIZE_112]:112,[c.SIZE_120]:120,[c.SIZE_128]:128,[c.SIZE_136]:136,[c.SIZE_144]:144,[c.SIZE_152]:152,[c.SIZE_160]:160,[c.SIZE_168]:168,[c.SIZE_176]:176,[c.SIZE_184]:184,[c.SIZE_200]:200,[c.SIZE_232]:232},s=[c.SIZE_48,c.SIZE_56,c.SIZE_64],r=[c.SIZE_72,c.SIZE_80,c.SIZE_96,c.SIZE_104,c.SIZE_112,c.SIZE_120,c.SIZE_128],l=[c.SIZE_136,c.SIZE_144,c.SIZE_152,c.SIZE_160,c.SIZE_168,c.SIZE_176],o=[c.SIZE_184,c.SIZE_200,c.SIZE_232]},33482:function(e,a,t){"use strict";let c;t.d(a,{f:function(){return c}}),function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL",e[e.MOBILE=2]="MOBILE"}(c||(c={}))},93261:function(e,a,t){"use strict";t.d(a,{E:function(){return L},$:function(){return y}});var c=t(27378),n=t.n(c),s=t(12622),r=t(65526),l=t.n(r),o="x-progressBar-progressBar",i="x-progressBar-progressBarBg",d="x-progressBar-progressBarFgWrapper",E="x-progressBar-progressBarFg";t(23615);class u extends c.PureComponent{render(){const{ariaValueText:e,max:a,current:t}=this.props,c=a&&t?100*Math.min(1,t/a):0,s={transform:`translateX(-${100-c}%)`},r=e||`${Math.round(c)}%`;return n().createElement("div",{className:o,role:"progressbar",tabIndex:0,"aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":a,"aria-valuetext":r},n().createElement("div",{className:i}),n().createElement("div",{className:d},n().createElement("div",{className:E,style:s})))}}l()(u,"defaultProps",{current:0,max:1});var f=u,m="x-episodeProgress-metadata",S="x-episodeProgress-large",_="x-episodeProgress-releaseDate",I="x-episodeProgress-remainingTime",b="x-episodeProgress-progressState",Z="x-episodeProgress-progressBarWrapper",g="x-episodeProgress-fullyPlayedIcon",p=t(49272),w=t(35181),N=t(9807),h=t(33482),O=t(60042),v=t.n(O);let y;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(y||(y={}));const L=e=>{const{resumePositionMs:a=0,releaseDate:t,isPlaying:c,fullyPlayed:r,durationMs:l,size:o=h.f.SMALL,position:i=a}=e;return n().createElement("div",{className:v()(m,{[S]:o===y.LARGE})},n().createElement(N.Dy.p,{variant:N.$e.mesto,className:_},(0,s.rL)((0,s.RX)(t))),(()=>{if(r)return n().createElement("div",{className:b},n().createElement(N.Dy.p,{variant:N.$e.mesto,className:I},w.ag.get("episode.played")),n().createElement(p.R,{iconSize:16,className:g}));if(i>0||c){const e=Math.ceil((l-i)/6e4);return n().createElement("div",{className:b},n().createElement(N.Dy.p,{variant:N.$e.mesto,className:I},w.ag.get("episode.time_left",e)))}return n().createElement(N.Dy.p,{variant:N.$e.mesto,className:_},w.ag.get("episode.length",Math.ceil(l/6e4)))})(),!r&&i>0||c?n().createElement("div",{className:Z},n().createElement(f,{scrubHandleLabel:"",current:i,max:l,isEnabled:!1})):null)}}}]);
//# sourceMappingURL=719.js.map