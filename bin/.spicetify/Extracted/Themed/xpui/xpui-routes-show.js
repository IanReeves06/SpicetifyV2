(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{10578:function(e,t,a){"use strict";a.d(t,{k:function(){return l}});var n=a(27378),i=a.n(n),s=a(9807),r="x-copyrights-copyrights";const l=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,i().createElement(s.Dy,{as:"p",variant:s.Dy.finale,key:t,dir:"auto"},`${n} ${a}`)}));return t&&a.unshift(i().createElement(s.Dy,{as:"p",variant:s.Dy.finale,key:a.length,dir:"auto"},t)),i().createElement("div",{className:r},a)}},87401:function(e,t,a){"use strict";a.r(t),a.d(t,{Show:function(){return De},default:function(){return Ne}});var n=a(27378),i=a.n(n),s=a(11700),r=a(48529),l=a(79308),c=a(80406),o=a(35181),d=a(10578),u=a(55003),m=a(28979),f=a(18010),p=a(7444),g=a(88319),b=a(83509),E=a(60042),y=a.n(E),v=a(32311),h=a(99209),w=a(75533),k=a(72136),C=a(21311),x=a(33482),S=a(26380),I=a(32049),P=a(37539),_={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"show-showEntityHeader-container",smallHeader:"show-showEntityHeader-smallHeader",imageContainer:"show-showEntityHeader-imageContainer",headerText:"show-showEntityHeader-headerText"},D=a(9807),N=a(48936);const O=e=>{switch(e){case x.f.MOBILE:return C.m$.SIZE_112;case x.f.SMALL:return C.m$.SIZE_200;default:return C.m$.SIZE_232}},M=({uri:e,backgroundColor:t,backgroundImages:a,size:s,data:r,actionBarHeader:l,actionBarButtons:c,contextMenuWrapper:o=N.j})=>{const d=(0,n.useRef)(null),{imageUrl:u}=(0,v.f)(a,d);return i().createElement(i().Fragment,null,i().createElement("div",{"data-testid":"header",ref:d,style:{backgroundColor:t},className:y()(P.Z.container,_.container,P.Z.overlay,_.overlay,{[P.Z.withBackgroundImage]:u,[P.Z.smallHeader]:s===x.f.MOBILE,[_.smallHeader]:s===x.f.MOBILE})},i().createElement(h.Du,null,i().createElement(h.yZ,{text:r.title})),i().createElement(o,{uri:e,contextUri:e},i().createElement(k.O,{size:O(s),type:r.type,images:r.images,title:r.title,shape:k.K.ROUNDED_CORNERS,className:_.imageContainer})),i().createElement("div",{className:_.headerText},s!==x.f.MOBILE&&i().createElement(D.Dy.p,{variant:D.$e.minuetBold},r.displayType),i().createElement(o,{uri:e,contextUri:e},i().createElement(w.xd,{size:s===x.f.MOBILE?I.Jj.SMALL:I.Jj.LARGE},r.title)),i().createElement(w.dy,{medium:s===x.f.SMALL,large:s===x.f.LARGE,bold:s!==x.f.MOBILE},r.subtitle))),i().createElement(S.o,{backgroundColor:t,size:s===x.f.MOBILE?S.m.SMALL:S.m.LARGE,playButton:null,header:l,secondaryActionButtons:c}))};var A=a(7487),L=a(69816),U=a(58733),R=a(50878),B=a(58324),Z=a(404),z=a(49022),$=a(20651),T=a(64619);var j=a(70266),G=a(2124),H=a(28646),W=a(73088),q=a(28234),F=a(66917),K=a.n(F),J=a(46471),X=a(12275),Y=a(18237),V=a(1721),Q=a(38489),ee=a(49107),te=a(27272),ae=a(88886),ne=a(25227);const ie=i().memo((({index:e,uid:t,showName:a,showUri:s,episode:r,usePlayContextItem:c})=>{var o,d,u,m,f,p,b,E;const y=null===(o=(0,l.oR)().getState().platform)||void 0===o?void 0:o.isBrowser,v=1e3*r.playedState.playPosition,h=r.uri,w={uid:t,uri:h,contextUri:s},[k,C]=(0,n.useState)(r.playedState.state===Z.sY.Completed),x=(0,B.O1)(),S=(0,V.g)(),I=(0,ee.jh)(),P=(0,g.o)(),{isPlaying:_,togglePlay:D}=c({uri:h}),N=(0,n.useCallback)((()=>{P({targetUri:h,intent:_?"pause":"play",type:"click"}),D()}),[h,_,P,D]),O=(0,$.wD)(w,(e=>{var t,a,n,i,s,r,l,c,o,d,u,m,f;const p=null===(t=e.audio.items.find((({externallyHosted:e})=>e)))||void 0===t?void 0:t.url,g=((null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[]).map((e=>{var t,a;return{url:e.url,width:null!==(t=e.width)&&void 0!==t?t:void 0,height:null!==(a=e.height)&&void 0!==a?a:void 0}})),b=e.playability.playable,E=null!==(n=null===(i=e.audioPreview)||void 0===i?void 0:i.url)&&void 0!==n?n:"",y=(null===(s=e.contentRating)||void 0===s?void 0:s.label)===Z.KS.Explicit;return{audio_preview_url:E,description:null!==(r=e.description)&&void 0!==r?r:"",duration_ms:e.duration.totalMilliseconds,explicit:y,external_urls:{spotify:""},href:"",html_description:null!==(l=e.description)&&void 0!==l?l:"",id:e.id,images:g,is_externally_hosted:Boolean(p),is_playable:b,languages:[],name:e.name,release_date:null!==(c=null===(o=e.releaseDate)||void 0===o?void 0:o.isoString)&&void 0!==c?c:"",release_date_precision:null!==(d=null===(u=e.releaseDate)||void 0===u?void 0:u.isoString)&&void 0!==d?d:"",restrictions:{reason:""},resume_point:{fully_played:!0,resume_position_ms:0},type:T.p.EPISODE,uri:e.uri,external_playback_url:p,audio:null!==(m=null===(f=e.audio)||void 0===f?void 0:f.items)&&void 0!==m?m:[],backgroundColor:""}})(r)),M=(0,n.useCallback)((e=>{if(r.type===Z.Wf.Episode&&y)return void J.y.set((()=>({triggerId:`activation-trigger-mme${r.uri}`,triggerAction:null})));S?O(e,{interactionType:"click",onLogInteraction:P}):N()}),[O,N,P,S,r,y]),A=(0,n.useCallback)((()=>{P({type:"click",targetUri:h,intent:"navigate"})}),[h,P]),L=(0,l.v9)($.Ys),U=(0,l.v9)($.fL),F=L===h,ie=null!==(d=null===(u=r.podcastSubscription)||void 0===u?void 0:u.isPaywalled)&&void 0!==d&&d,se=null!==(m=null===(f=r.podcastSubscription)||void 0===f?void 0:f.isUserSubscribed)&&void 0!==m&&m,re=ie&&!se,{badges:le}=(0,j.r)({contentRating:null===(p=r.contentRating)||void 0===p?void 0:p.label,isPaywalled:ie}),ce=(0,n.useCallback)((e=>{let t=e;return re&&(t=i().createElement(ne.l,{enabled:!0},t)),t=i().createElement(q.c,{id:`activation-trigger-mme${h}`,targetURI:K().from(h)},t),t}),[h,re]);return i().createElement(R.ZP,{value:"row",index:e},i().createElement(X._,{menu:i().createElement(Y.k,{uri:h,showUri:s,sharingInfo:r.sharingInfo,isPlayed:k,onMarkAsPlayed:C})},i().createElement(z.X,{index:e,uri:h,uid:t,size:I,images:(null===(b=r.coverArt)||void 0===b?void 0:b.sources)||[],name:r.name,description:r.description,isPlayable:r.playability.playable||re,fullyPlayed:k,durationMs:r.duration.totalMilliseconds,releaseDate:(null===(E=r.releaseDate)||void 0===E?void 0:E.isoString)||"",resumePositionMs:v,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${r.name} · ${a}`;x(e,[h],t,s)},handlePlaybackClick:M,handleClick:A,isCurrentlyPlaying:F,isPaywalled:ie,isUserSubscribed:se,isPlaying:_,position:F?U:void 0,badges:i().createElement(i().Fragment,null,le.explicit&&i().createElement(G.N,null),le.paid&&i().createElement(W.g,null),le.nineteen&&i().createElement(H.X,{size:16})),playButtonWrapper:ce,actionButtons:i().createElement(Q.K,{episodeUri:h,showUri:s,sharingInfo:r.sharingInfo,canDownload:!ie||ie&&se}),topActionButtons:i().createElement(ae.y,{menu:i().createElement(Y.k,{uri:h,showUri:s,sharingInfo:r.sharingInfo,isPlayed:k,onMarkAsPlayed:C})},i().createElement(te.z,{size:te.q.sm}))})))}));var se=a(20107),re=a(67457);const le=i().memo((({showName:e,showUri:t,usePlayContextItem:a})=>{const s=(0,re.ZM)(t),r=(0,n.useCallback)((({uid:n,episode:s},r)=>i().createElement(ie,{key:`${s.uri}/${r}`,index:r,uid:n,episode:s,showName:e,showUri:t,usePlayContextItem:a})),[e,t,a]),{ref:l,breakpoint:c}=(0,ee.Db)({[ee.Uo.MEDIUM]:0,[ee.Uo.LARGE]:600});return i().createElement(ee.ZU.Provider,{value:c},i().createElement(R.ZP,{value:"track-list"},i().createElement(se.k,{showUri:t,ref:l,renderRow:r,fetchEpisodes:s})))}));var ce={container:"show-trailer-container",isActive:"show-trailer-isActive",title:"show-trailer-title",main:"show-trailer-main",titleContainer:"show-trailer-titleContainer",duration:"show-trailer-duration",trailerContainer:"show-trailer-trailerContainer",image:"show-trailer-image",imageContainer:"show-trailer-imageContainer",playButton:"show-trailer-playButton",entityImageLarge:"show-trailer-entityImageLarge",entityImageSmall:"show-trailer-entityImageSmall"},oe=a(34159),de=a(38788),ue=a(27462);let me;!function(e){e.SMALL="small",e.LARGE="large"}(me||(me={}));const fe=({images:e,title:t,contentRating:a,duration:n,moreButton:s,onClick:r,onContextMenu:l,onTouchStart:c,onTouchEnd:d,isPlaying:u,isActive:m,size:f,className:p})=>{const g=f===me.LARGE?oe.qE.md:oe.qE.sm,{badges:b}=(0,j.r)({contentRating:a});return i().createElement("div",{"data-testid":"trailer-component",className:y()(ce.container,p,{[ce.isActive]:m}),onContextMenu:l,onTouchStart:c,onTouchEnd:d},i().createElement("div",{className:ce.main},i().createElement("div",{className:ce.imageContainer},i().createElement(k.O,{type:T.p.EPISODE,title:t,className:y()(ce.image,{[ce.entityImageSmall]:f===me.SMALL,[ce.entityImageLarge]:f===me.LARGE}),size:C.m$.SIZE_56,images:e,shape:k.K.ROUNDED_CORNERS}),i().createElement("div",{className:ce.playButton},i().createElement(oe.JM,{"data-testid":"trailer-play-button",version:oe.ul.transparent,size:g,isPlaying:u,onClick:r}))),i().createElement("div",{className:ce.metadata},i().createElement("div",{className:ce.titleContainer},i().createElement(D.Dy,{dir:"auto",className:ce.title,variant:D.$e.balladBold},t)),i().createElement("div",{className:ce.trailerContainer},i().createElement(ue.V,{text:o.ag.get("track-trailer")}),b.explicit&&i().createElement(G.N,null),b.nineteen&&i().createElement(H.X,null),i().createElement(D.Dy,{dir:"auto",variant:D.$e.mesto},i().createElement(de.n,{durationMs:n}))))),s)};var pe=a(75933),ge=a(39536),be=a(99498),Ee=a(7099),ye=a(6953);const ve=i().memo((e=>{const{uri:t}=e,{sortParamMap:a,getSortParam:s,setSortParam:r}=(0,re.uM)(t),l=s(),c=Array.from(a.values()),o=Array.from(a.keys()),d=(0,n.useCallback)((e=>{const t=o.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));t&&r(t)}),[r,o,a]);if(!a.size||!l)return null;const u=Array.from(a.keys()).find((e=>e.field===l.field&&e.order===l.order)),m=a.get(u);return i().createElement(ye.A,{options:c,onSelect:e=>d(e),selected:m})}));var he=a(69365),we=a(47574),ke=a(54798),Ce=a(54220),xe=a(70685),Se=a(86806);const Ie=({children:e,uri:t})=>i().createElement(X._,{menu:i().createElement(pe.M,{uri:t})},e),Pe=(0,c.P1)(U.MQ,((e,t)=>t),((e,t)=>e[t])),_e=(0,c.P1)(U.$J,((e,t)=>t),((e,t)=>e[t])),De=e=>{var t,a,r,c;const{uri:E,showId:y}=e,v=(0,l.I0)(),h=(0,g.o)(),w=(0,we.W6)(ke.Cz),k=!(0,b.k)(),C=(0,V.g)(),S=(0,l.v9)((e=>Pe(e,E))),I=(0,l.v9)((e=>_e(e,E))),{canSort:P}=(0,re.uM)(E),{playerSort:_,playerFilter:N}=(0,re.x3)(E),O=null==S||null===(t=S.images)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.url,U=(0,ge.Z)(O||null),{usePlayContextItem:R,isPlaying:B}=(0,xe.n)({uri:E,metadata:{[Se.sb.SORTING_CRITERIA]:_,[Se.sb.FILTERING_PREDICATE]:N}},{featureIdentifier:"show"}),Z=(null==S?void 0:S.trailer)||null,{isActive:z,isPlaying:j,togglePlay:G}=R({uri:(null==Z?void 0:Z.uri)||""});(0,n.useEffect)((()=>{if(!S||(0,Ee.YK)(S))return void v((0,m.AN)(y));const{name:e}=S;v((0,p.Dk)(o.ag.get("podcasts.show.seo.title",{name:e})))}),[v,S,y]),(0,n.useEffect)((()=>{"boolean"!=typeof I&&v((0,m.PA)(E))}),[v,E,I]);const H=(0,n.useCallback)((()=>{h({targetUri:E,intent:I?"unsave":"save",type:"click"}),v(I?(0,f.Bn)(E):(0,f.PJ)(E))}),[v,h,E,I]),W=(0,n.useCallback)((()=>{h({intent:"expand-description",type:"click"})}),[h]),F=null===(r=(0,l.oR)().getState().platform)||void 0===r?void 0:r.isBrowser,J=0===((null==S||null===(c=S.episodes)||void 0===c?void 0:c.total)||0),Q=(0,$.cq)({contextUri:null==S?void 0:S.uri,uri:(null==Z?void 0:Z.uri)||E}),ee=(0,n.useCallback)((e=>{null!=Z&&Z.uri&&(C?Q(e,{interactionType:"click",onLogInteraction:h}):(h({targetUri:Z.uri,intent:j?"play":"pause",type:"click"}),G()))}),[Q,C,j,h,G,null==Z?void 0:Z.uri]),ne=(0,n.useMemo)((()=>({title:null==S?void 0:S.name,subtitle:null==S?void 0:S.publisher,images:null==S?void 0:S.images,type:T.p.SHOW,displayType:"SHOW"===(null==S?void 0:S.showType)?o.ag.get("type.show"):o.ag.get("type.podcast")})),[S]),{isXSOnly:ie,isSMOnly:se}=(0,be.e)(),ce=ie||se,oe=(0,n.useMemo)((()=>S?i().createElement(d.k,{copyrights:S.copyrights||[]}):null),[S]),de=(0,n.useCallback)((e=>"SHOW"===(null==S?void 0:S.showType)||F?i().createElement(q.c,{id:`activation-trigger-mme${null==S?void 0:S.uri}`,targetURI:K().from(null==S?void 0:S.uri)},e):e),[null==S?void 0:S.uri,null==S?void 0:S.showType,F]),ue=(0,n.useMemo)((()=>S?i().createElement(M,{uri:S.uri,backgroundColor:U,data:ne,size:ce?x.f.SMALL:x.f.LARGE,onPlayClick:()=>{},isPlaying:B,isPlayDisabled:J,playButtonWrapper:de,contextMenuWrapper:Ie,actionBarButtons:[i().createElement(he.r,{key:"follow-button"},i().createElement(u.e,{isFollowing:I,onClick:H,disabled:k})),i().createElement(ae.y,{key:"more-button",menu:i().createElement(pe.M,{uri:E,sharingInfo:S.sharingInfo})},i().createElement(te.z,null))]}):null),[S,U,ne,H,I,k,B,ce,J,E,de]),ye=(0,n.useCallback)((e=>{const t=(null==S?void 0:S.description)||w&&(null==S?void 0:S.htmlDescription);return i().createElement("section",{className:s.Z.ShowPage},ue,i().createElement("div",{className:s.Z.ShowContent},i().createElement("div",{className:s.Z.metadata},t&&i().createElement(i().Fragment,null,i().createElement(D.Dy,{as:"h3",variant:D.$e.canon,color:"var(--spice-text)",className:s.Z.sectionTitle},o.ag.get("artist.about")),i().createElement(L.o,{maxLines:4,content:(S.description||"").trim(),onExpanded:W,htmlContent:w?S.htmlDescription:void 0,LinkComponent:Ce.Z})),Z&&i().createElement(X._,{menu:i().createElement(Y.k,{uri:Z.uri,showUri:S.uri,sharingInfo:Z.sharingInfo})},i().createElement(fe,{className:s.Z.trailer,images:Z.images,title:Z.name,duration:Z.duration_ms,moreButton:i().createElement(ae.y,{menu:i().createElement(Y.k,{uri:Z.uri,sharingInfo:Z.sharingInfo,showUri:S.uri})},i().createElement(te.z,null)),onClick:ee,isPlaying:j,isActive:z,size:me.LARGE,contentRating:Z.contentRating}))),i().createElement("div",{className:s.Z.episodes,"data-testid":"show-all-episode-list"},i().createElement("div",{className:s.Z.episodesHeader},i().createElement(D.Dy,{as:"h3",variant:D.$e.canon,color:"var(--spice-text)",className:s.Z.sectionTitle},o.ag.get("mwp.podcast.all.episodes")),P&&i().createElement("div",{className:s.Z.episodesSort},i().createElement(ve,{uri:E}))),e),oe))}),[S,Z,ue,oe,z,j,w,W,ee,P,E]);return S?ye(i().createElement(le,{showName:S.name,showUri:S.uri,usePlayContextItem:R})):i().createElement(A.h,{errorMessage:o.ag.get("error.not_found.title.podcast")})};var Ne=i().memo((()=>{const{showId:e}=(0,r.UO)(),t=`spotify:show:${e}`;return i().createElement(n.Suspense,{fallback:null},i().createElement(De,{uri:t,showId:e}))}))},38489:function(e,t,a){"use strict";a.d(t,{K:function(){return w}});var n=a(27378),i=a.n(n),s=a(60042),r=a.n(s),l=a(11700),c="show-shareButton-button",o=a(35181),d=a(60854),u=a(70608),m=a(91592),f=a(86131);const p=i().memo((({onClick:e=(()=>{}),size:t=24,className:a,uri:s,sharingInfo:l,interactionData:p})=>{const{onCopyLink:g}=(0,m.y)({sharingInfo:l,uri:s,interactionData:p}),b=(0,n.useCallback)((()=>{g(),e()}),[e,g]);return i().createElement(f.u,{label:o.ag.get("mwp.list.item.share")},i().createElement(u.E,{ariaLabel:o.ag.get("mwp.list.item.share"),size:t,onClick:b,className:r()(c,a)},i().createElement(d.M,{iconSize:t})))}));var g=a(21723),b=a(34834),E=a(885),y=a(21380),v=a(91486);const h={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},w=i().memo((({episodeUri:e,showUri:t,sharingInfo:a,canDownload:s})=>{const{useDownloading:c}=(0,n.useContext)(E.I),{currentAvailability:o}=c(e),d=[y.V8.YES,y.V8.DOWNLOADING,y.V8.WAITING].includes(o),u=(0,n.useMemo)((()=>i().createElement(b.p,{uri:e,size:b.q.sm,showUri:t,className:r()({[l.Z.visibleDownloadButton]:d})})),[e,t,d]),m=(0,n.useMemo)((()=>i().createElement(p,{uri:e,sharingInfo:a,interactionData:h})),[e,a]),f=(0,n.useMemo)((()=>i().createElement(g.w,{uri:e,size:v.q.sm,className:l.Z.saveButton})),[e]);return i().createElement(i().Fragment,null,m,s&&u,f)}))},6953:function(e,t,a){"use strict";a.d(t,{A:function(){return v}});var n=a(27378),i=a.n(n),s=a(60042),r=a.n(s),l="x-sortBox-sortDropdown",c="x-sortBox-sortDropdownChanged",o=a(9807),d=a(55256),u=a(11890),m=a(88886),f=a(34761),p=a(79744),g=a(13160),b=a(46191),E=a(79378);const y=({selected:e,onSelect:t,options:a,sortOrder:n})=>{let s;return n&&(n===E.kn.ASC||n===E.kn.SECONDARY_ASC?s=i().createElement(g.c,{iconSize:16}):n!==E.kn.DESC&&n!==E.kn.SECONDARY_DESC||(s=i().createElement(b.e,{iconSize:16}))),i().createElement(f.v,null,a.map((({key:a,value:n})=>i().createElement(p.s,{role:"menuitemradio","aria-checked":a===e.key&&!s,key:a,onClick:()=>t(a),icon:a===e.key&&s},i().createElement(o.Dy,{variant:o.Dy.mesto},n)))))};const v=({options:e,selected:t,onSelect:a,isSelectionChanged:n,sortOrder:s})=>{const[f]=e;t||(t=f);const p=n?n(t):t!==f;return i().createElement(m.y,{renderInline:!0,menu:i().createElement(y,{selected:t,options:e,onSelect:a,sortOrder:s})},((e,a,n)=>i().createElement("button",{className:r()(l,{[c]:p}),onClick:a,ref:n,type:"button"},i().createElement(o.Dy,{variant:o.Dy.mesto},t.value),e?i().createElement(d.q,{iconSize:16}):i().createElement(u.m,{iconSize:16}))))}},55003:function(e,t,a){"use strict";a.d(t,{e:function(){return u}});var n=a(27378),i=a.n(n),s=a(35181),r=a(60042),l=a.n(r),c="show-followButton-button",o="show-followButton-isFollowing",d="show-followButton-disabled";const u=i().memo((({isFollowing:e,onClick:t,disabled:a=!1})=>{const n=e?s.ag.get("following"):s.ag.get("follow");return i().createElement("button",{type:"button",className:l()(c,{[o]:e,[d]:a}),onClick:t},n)}))},49022:function(e,t,a){"use strict";a.d(t,{X:function(){return v}});var n=a(27378),i=a.n(n),s=a(76654),r=a(48529),l=a(66917),c=a.n(l),o=a(60042),d=a.n(o),u={episodeBlock:"show-episodeBlock-episodeBlock",isActive:"show-episodeBlock-isActive",title:"show-episodeBlock-title",titleLink:"show-episodeBlock-titleLink",selected:"show-episodeBlock-selected",topActions:"show-episodeBlock-topActions",actions:"show-episodeBlock-actions",noHover:"show-episodeBlock-noHover",imageContainer:"show-episodeBlock-imageContainer",showImage:"show-episodeBlock-showImage",description:"show-episodeBlock-description",metadata:"show-episodeBlock-metadata",badges:"show-episodeBlock-badges",medium:"show-episodeBlock-medium",large:"show-episodeBlock-large",header:"show-episodeBlock-header",descriptionContainer:"show-episodeBlock-descriptionContainer",playerActions:"show-episodeBlock-playerActions"},m=a(34159),f=a(9807),p=a(93261),g=a(64619),b=a(72136),E=a(21311),y=a(49107);const v=i().memo((({uri:e,name:t,showName:a,showUri:l,size:o,description:v,durationMs:h,images:w,badges:k,fullyPlayed:C,releaseDate:x,resumePositionMs:S,isCurrentlyPlaying:I,isPlaying:P,actionButtons:_,topActionButtons:D,onContextMenu:N,onTouchStart:O,onTouchEnd:M,handlePlaybackClick:A,handleDragStart:L,handleClick:U,position:R,index:B,isPlayable:Z,isPaywalled:z,isUserSubscribed:$,playButtonWrapper:T=null})=>{var j;const G=(0,r.k6)(),H=I&&P,W=c().from(e).toURLPath(!0),q=null===(j=c().from(l))||void 0===j?void 0:j.toURLPath(!0),F=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),G.push(W),U&&U(e)}),[W,G,U]),K=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),q&&G.push(q)}),[q,G]),J=z&&!$,X=(0,n.useCallback)((e=>{e.stopPropagation(),J||A(e)}),[A,J]),Y=e=>{e.stopPropagation()},V=J||Z,Q=i().createElement(m.JM,{size:m.qE.xs,version:m.ul.secondary,onClick:X,isPlaying:H,disabled:!V,locked:J}),ee=T?T(Q):Q;return i().createElement("div",{className:d()(u.episodeBlock,{[u.isActive]:I,[u.medium]:o===y.Uo.MEDIUM,[u.large]:o===y.Uo.LARGE,[u.noHover]:o===y.Uo.XSMALL}),"data-testid":`episode-${B}`,draggable:!!L,onDragStart:L,onClick:F,onContextMenu:N,onTouchStart:O,onTouchEnd:M},i().createElement("div",{className:u.imageContainer},i().createElement(b.O,{className:d()(u.entityImage,u.showImage),type:g.p.EPISODE,size:(e=>{switch(e){case y.Uo.LARGE:return E.m$.SIZE_112;case y.Uo.MEDIUM:return E.m$.SIZE_64;default:return E.m$.SIZE_48}})(o),title:t,shape:b.K.ROUNDED_CORNERS,images:w})),i().createElement("div",{className:u.header},i().createElement(s.rU,{className:u.titleLink,to:W,onClick:F},i().createElement(f.Dy.h4,{variant:f.Dy.balladBold,className:u.title},t)),a&&q&&i().createElement(s.rU,{className:u.titleLink,to:q,onClick:K},i().createElement(f.Dy.h4,{variant:f.Dy.mestoBold,className:u.title},a))),i().createElement("div",{className:u.descriptionContainer},i().createElement(f.Dy.p,{variant:f.Dy.mesto,className:u.description},v)),i().createElement("div",{className:u.metadata},i().createElement("div",{className:u.badges},k),i().createElement(p.E,{isPlaying:H,fullyPlayed:C,durationMs:h,releaseDate:x,resumePositionMs:S,position:I?R:void 0})),D&&i().createElement("div",{onClick:Y,className:u.topActions},D),i().createElement("div",{onClick:Y,className:u.actions},_),i().createElement("div",{className:u.playerActions},ee))}))},20107:function(e,t,a){"use strict";a.d(t,{k:function(){return f}});var n=a(65526),i=a.n(n),s=a(27378),r=a.n(s),l="show-episodeList-divider",c="show-episodeList-row",o=a(93868),d=a(19873);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=r().memo(r().forwardRef(((e,t)=>{const{fetchEpisodes:a,renderRow:n,limit:i=50,showUri:u}=e,[f,p]=(0,s.useState)(d.d),g=(0,s.useRef)(!1),b=(0,s.useCallback)(((e=!1)=>{if(!a)return;const t=f.pagingInfo.nextOffset;if(null===t)return;const n=0===f.totalCount?i:Math.min(f.totalCount-t,i);!g.current&&n>0&&(g.current=!0,a(t,n).then((a=>{p((n=>{const i=e?[]:[...n.items];return i.splice(t,a.items.length,...a.items),m(m({},a),{},{items:i})})),g.current=!1})))}),[a,f.pagingInfo.nextOffset,f.totalCount,i]);return(0,s.useEffect)((()=>{p(d.d)}),[u,a]),(0,s.useEffect)((()=>{0===f.pagingInfo.nextOffset&&b(!0)}),[b,f.pagingInfo.nextOffset]),r().createElement("div",{ref:t},r().createElement(o.C,{onReachBottom:b,triggerOnInitialLoad:!0},f.items.map(((e,t)=>r().createElement("div",{className:c,key:`${t}${e.uid}`},r().createElement("hr",{className:l,"aria-hidden":!0}),n(e,t))))))})))},11700:function(e,t){"use strict";t.Z={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",ShowPage:"show-show-ShowPage",ShowContent:"show-show-ShowContent",metadata:"show-show-metadata",episodes:"show-show-episodes",episodesHeader:"show-show-episodesHeader",episodesSort:"show-show-episodesSort",subtitle:"show-show-subtitle",sectionTitle:"show-show-sectionTitle",trailer:"show-show-trailer",visibleDownloadButton:"show-show-visibleDownloadButton",moreButton:"show-show-moreButton",saveButton:"show-show-saveButton"}}}]);
//# sourceMappingURL=xpui-routes-show.js.map